@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap);body{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;margin:0}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}#root{min-height:100vh}*{box-sizing:border-box;margin:0;padding:0}:root{--app-scrollbar-track:#0f172a94;--app-scrollbar-thumb:#6366f18f;--app-scrollbar-thumb-hover:#818cf8e0}*{scrollbar-color:#6366f18f #0f172a94;scrollbar-color:var(--app-scrollbar-thumb) var(--app-scrollbar-track);scrollbar-width:thin}::-webkit-scrollbar{height:10px;width:10px}::-webkit-scrollbar-track{background:#0f172a94!important;background:var(--app-scrollbar-track)!important;border-radius:999px}::-webkit-scrollbar-thumb{background:#6366f18f!important;background:var(--app-scrollbar-thumb)!important;background-clip:content-box;border:2px solid #0000;border-radius:999px}::-webkit-scrollbar-thumb:hover{background:#818cf8e0!important;background:var(--app-scrollbar-thumb-hover)!important;background-clip:content-box}.subtle-keyword-highlight{background:#94a3b82e;border-radius:4px;color:inherit;font-weight:500;padding:0 .08rem}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.game-container{animation:gradientShift 10s ease infinite;background:linear-gradient(135deg,#0f172a,#581c87 50%,#0f172a);background-size:200% 200%;min-height:100vh;padding:1rem}.game-content{margin:0 auto;max-width:1536px}.header{animation:slideDown .5s ease-out;background:#1e293be6;border:1px solid #a855f74d;border-radius:12px;box-shadow:0 10px 25px -5px #0000004d;margin-bottom:1rem;padding:1rem;position:relative;z-index:1}.knowledge-domain-active .header-knowledge-domain-active{position:-webkit-sticky;position:sticky;top:0;z-index:150}@media (min-width:769px){.knowledge-domain-active .knowledge-domain-container .domain-info-panel{max-height:calc(100vh - 112px);top:92px}.knowledge-domain-active .knowledge-domain-container .domain-return-top-btn,.knowledge-domain-active .knowledge-domain-container .domain-right-dock-toggle{top:92px}.knowledge-domain-active .knowledge-domain-container .intel-heist-hud{top:100px;top:calc(var(--knowledge-header-offset, 92px) + 8px)}}@media (max-width:768px){.knowledge-domain-active .knowledge-domain-container .intel-heist-hud{top:86px;top:calc(var(--knowledge-header-offset, 80px) + 6px)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.header-content{align-items:center;display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between}.header-title{color:#fff;font-size:1.5rem;font-weight:700}.header-buttons,.header-title,.user-identity-group{align-items:center;display:flex;gap:.5rem}.user-identity-group{margin-right:.5rem}.user-avatar-container{align-items:center;background:#ffffff0d;border-radius:25px;cursor:pointer;display:flex;gap:.5rem;padding:.4rem .8rem;transition:all .3s ease}.user-avatar-container:hover{background:#ffffff1a;transform:translateY(-2px)}.user-avatar-small{background:#0a0a15;border:2px solid #a855f780;border-radius:8px;height:32px;width:32px}.user-name{color:#e0e0e0;font-size:.9rem}.btn{display:inline-flex;font-weight:600;gap:.5rem;overflow:hidden;padding:.5rem 1rem;position:relative}.btn:before{background:#fff3;border-radius:50%;content:"";height:0;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);transition:width .6s,height .6s;width:0}.btn:hover:before{height:300px;width:300px}.btn:active{transform:scale(.95)}.btn-primary{background:#7c3aed}.btn-primary:hover{background:#6d28d9;box-shadow:0 0 20px #7c3aed80}.btn-secondary{background:#3b82f6;color:#fff}.btn-secondary:hover{background:#2563eb;box-shadow:0 0 20px #3b82f680}.btn-success{background:#10b981;color:#fff}.btn-success:hover{background:#059669;box-shadow:0 0 20px #10b98180}.btn-danger{background:#ef4444;color:#fff;font-size:.875rem}.btn-danger:hover{background:#dc2626;box-shadow:0 0 15px #ef444480}.btn-danger:disabled{background:#475569;cursor:not-allowed;opacity:.5}.btn-green{background:#10b981;color:#fff;justify-content:center;width:100%}.btn-green:hover{background:#059669}.btn-orange{background:#f97316;color:#fff;justify-content:center;width:100%}.btn-orange:hover{background:#ea580c}.btn-red{background:#ef4444;color:#fff;justify-content:center;width:100%}.btn-red:hover{background:#dc2626}.btn-blue{background:#3b82f6;color:#fff;justify-content:center;width:100%}.btn-blue:hover{background:#2563eb}.btn-logout{background:#ef4444;color:#fff}.btn-logout:hover{background:#dc2626;box-shadow:0 0 20px #ef444480}.btn-warning{background:#f59e0b}.btn-warning:hover{background:#d97706;box-shadow:0 0 20px #f59e0b80}.icon{height:1.5rem;width:1.5rem}.icon-small{height:1.25rem;width:1.25rem}.icon-yellow{color:#fbbf24}.icon-red{color:#ef4444}.modal-backdrop,.modal-overlay{align-items:center;animation:fadeIn .3s ease-out;background:#000000b3;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0;z-index:1000}.modal-content{animation:slideUp .3s ease-out;background:#1e293bf2;border:2px solid #a855f780;border-radius:12px;box-shadow:0 25px 50px -12px #00000080;max-height:90vh;max-width:600px;overflow-y:auto;width:90%}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.modal-header{align-items:center;border-bottom:1px solid #475569;display:flex;justify-content:space-between;padding:1.5rem}.modal-header h3{color:#fff;font-size:1.25rem;font-weight:600;margin:0}.modal-body{padding:1.5rem}.intel-heist-modal{max-width:520px}.intel-heist-modal-body{display:flex;flex-direction:column;gap:.65rem}.intel-heist-tip{color:#cbd5e1;font-size:.86rem}.intel-heist-error{background:#7f1d1d59;border:1px solid #f8717180;border-radius:8px;color:#fecaca;font-size:.85rem;padding:.55rem .65rem}.intel-heist-snapshot{display:flex;flex-direction:column;gap:.55rem}.intel-heist-gate-block{background:#0f172a8c;border:1px solid #64748b73;border-radius:8px;display:flex;flex-direction:column;gap:.4rem;padding:.55rem .6rem}.intel-heist-gate-block strong{color:#e2e8f0;font-size:.86rem}.intel-heist-gate-row{align-items:center;color:#f8fafc;display:flex;font-size:.84rem;gap:.5rem;justify-content:space-between}.intel-heist-gate-row em{color:#fde68a;font-style:normal;font-weight:700}.siege-modal{max-width:780px}.siege-modal-body{display:flex;flex-direction:column;gap:.85rem}.siege-error{background:#7f1d1d59;border:1px solid #f8717180;border-radius:8px;color:#fecaca}.siege-error,.siege-message{font-size:.86rem;padding:.6rem .7rem}.siege-message{background:#15803d47;border:1px solid #4ade8059;border-radius:8px;color:#bbf7d0}.siege-vs-block{grid-gap:.75rem;align-items:stretch;display:grid;gap:.75rem;grid-template-columns:1fr auto 1fr}.siege-force-card{background:#0f172a94;border:1px solid #64748b73;border-radius:10px;display:flex;flex-direction:column;gap:.5rem;padding:.7rem}.siege-force-card strong{color:#f8fafc;font-size:.92rem}.siege-force-total{color:#fef08a;font-size:1.45rem;font-weight:700;line-height:1}.siege-force-source{color:#cbd5e1;font-size:.8rem}.siege-force-list{display:flex;flex-direction:column;gap:.3rem}.siege-force-row{align-items:center;color:#f8fafc;display:flex;font-size:.82rem;gap:.5rem;justify-content:space-between}.siege-force-row em{color:#fde68a;font-style:normal;font-weight:700}.siege-force-gates{display:flex;flex-direction:column;gap:.45rem}.siege-defender-gate{background:#0f172a59;border:1px solid #4755698c;border-radius:8px;display:flex;flex-direction:column;gap:.25rem;padding:.45rem .5rem}.siege-defender-gate.highlight{background:#78350f33;border-color:#fbbf2499}.siege-defender-gate-title{align-items:center;color:#e2e8f0;display:flex;font-size:.83rem;justify-content:space-between}.siege-defender-gate-title em{color:#fde68a;font-style:normal;font-weight:700}.siege-vs-label{align-self:center;color:#fef08a;font-size:1.05rem;font-weight:700;letter-spacing:.08em}.siege-request-support-btn{margin-top:.15rem}.siege-supporter-list{background:#0f172a6b;border:1px solid #64748b73;border-radius:8px;display:flex;flex-direction:column;gap:.45rem;padding:.65rem}.siege-supporter-list strong{color:#e2e8f0;font-size:.86rem}.siege-supporter-row{grid-gap:.5rem;align-items:center;color:#f1f5f9;display:grid;font-size:.82rem;gap:.5rem;grid-template-columns:1.2fr .9fr auto}.siege-supporter-row em{color:#fde68a;font-style:normal;font-weight:700}.siege-support-panel{background:#1e40af24;border:1px solid #3b82f673;border-radius:8px;display:flex;flex-direction:column;gap:.55rem;padding:.65rem}.siege-support-panel strong{color:#dbeafe;font-size:.86rem}.siege-support-meta{align-items:center;display:flex;gap:.6rem;justify-content:space-between}.siege-support-meta label{color:#bfdbfe;font-size:.8rem}.siege-support-meta select{background:#0f172ab3;border:1px solid #475569;border-radius:6px;color:#f8fafc;font-size:.8rem;padding:.35rem .5rem}.siege-support-retreat{align-items:center;display:flex;gap:.4rem}.siege-support-retreat input[type=range]{width:120px}.siege-support-retreat input[type=number]{background:#0f172ab3;border:1px solid #475569;border-radius:6px;color:#f8fafc;padding:.35rem .45rem;width:56px}.siege-support-retreat span{color:#cbd5e1;font-size:.8rem}.siege-support-unit-list{display:flex;flex-direction:column;gap:.45rem}.siege-support-unit-row{grid-gap:.6rem;align-items:center;display:grid;gap:.6rem;grid-template-columns:1fr auto 74px}.siege-support-unit-row span{color:#f8fafc;font-size:.83rem}.siege-support-unit-row small{color:#cbd5e1;font-size:.75rem}.siege-support-unit-row input{background:#0f172ab3;border:1px solid #475569;border-radius:6px;color:#f8fafc;padding:.3rem .45rem}.form-group{margin-bottom:1.5rem}.form-group label{color:#fff;display:block;font-size:.875rem;font-weight:600;margin-bottom:.5rem}.form-input,.form-textarea{background:#334155cc;border:1px solid #475569;border-radius:8px;color:#fff;font-size:.875rem;padding:.75rem 1rem;transition:all .3s ease;width:100%}.form-input::placeholder,.form-textarea::placeholder{color:#9ca3af}.form-input:focus,.form-textarea:focus{border-color:#a855f7;box-shadow:0 0 0 3px #a855f733;outline:none}.form-textarea{min-height:80px;resize:vertical}.error-text{display:block;font-size:.75rem;margin-top:.25rem}.error-text,.required-star{color:#ef4444}.associations-section h4{color:#fff;font-size:1rem;font-weight:600;margin-bottom:1rem}.search-section{margin-bottom:1.5rem}.search-input-group,.search-results{margin-bottom:1rem}.search-results{background:#33415599;border-radius:8px;max-height:200px;overflow-y:auto;padding:.75rem}.search-results h5{color:#9ca3af;font-size:.875rem;margin-bottom:.5rem}.search-result-item{align-items:center;background:#1e293bcc;border:1px solid #0000;border-radius:6px;cursor:pointer;display:flex;justify-content:space-between;margin-bottom:.5rem;padding:.75rem;transition:all .3s ease}.search-result-item:hover{background:#1e293be6;border-color:#6366f1}.search-result-item.selected{background:#3b82f633;border-color:#3b82f6}.node-info{flex:1 1}.node-info strong{color:#fff;display:block;font-size:.875rem;margin-bottom:.25rem}.node-description{display:block;font-size:.75rem}.selection-indicator{color:#10b981;font-size:1rem;font-weight:700}.relation-type-section{background:#33415599;border-radius:8px;margin-bottom:1rem;padding:1rem}.relation-type-section label{color:#fff;display:block;font-weight:600;margin-bottom:.75rem}.relation-options{display:flex;gap:1rem}.radio-label{align-items:center;color:#fff;cursor:pointer;display:flex;font-size:.875rem;gap:.5rem}.radio-label input[type=radio]{accent-color:#a855f7}.associations-list{background:#33415599;border-radius:8px;margin-top:1rem;padding:.75rem}.associations-list h5{color:#9ca3af;font-size:.875rem;margin-bottom:.75rem}.association-item{margin-bottom:.5rem}.node-name{font-size:.875rem;font-weight:600}.btn-small{font-size:.75rem;padding:.25rem .5rem}.notifications-wrapper{position:relative}.notification-trigger-btn{justify-content:center;min-width:90px}.notifications-panel{animation:slideInDown .2s ease-out;background:#1e293bf2;border:2px solid #3b82f680;border-radius:12px;box-shadow:0 25px 50px -12px #00000080;max-height:500px;overflow-y:auto;position:absolute;right:0;top:calc(100% + 10px);width:420px;z-index:999}@keyframes slideInDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.notifications-header{align-items:center;border-bottom:1px solid #475569;display:flex;justify-content:space-between;padding:1rem 1.5rem}.notifications-header h3{color:#fff;font-size:1.125rem;font-weight:600;margin:0}.notifications-body{padding:1rem 1.5rem}.notifications-list{display:flex;flex-direction:column;gap:.75rem}.notification-item{background:#334155a6;border:1px solid #64748bb3;border-radius:8px;padding:.75rem}.notification-item.unread{background:#1e3a8a47;border-color:#3b82f6d9}.notification-item-title-row{align-items:center;display:flex;justify-content:space-between;margin-bottom:.3rem}.notification-item-title-row h4{color:#f8fafc;font-size:.95rem}.notification-dot{background:#38bdf8;border-radius:50%;box-shadow:0 0 8px #38bdf8e6;height:8px;width:8px}.notification-item-message{color:#dbeafe;font-size:.85rem;line-height:1.4}.notification-item-meta{color:#94a3b8;font-size:.75rem;margin-top:.45rem}.notification-group-nav{align-items:center;display:flex;gap:.35rem;justify-content:flex-end;margin-bottom:.45rem}.notification-group-nav-btn{align-items:center;display:inline-flex;height:24px;justify-content:center;padding:0;width:24px}.notification-group-index{color:#93c5fd;font-size:.75rem;min-width:38px;text-align:center}.notification-apply-reason{color:#bfdbfe;margin-top:.25rem}.notification-actions{display:flex;gap:.5rem;margin-top:.6rem}.notification-result-tag{border-radius:5px;display:inline-flex;font-size:.75rem;font-weight:600;margin-top:.45rem;padding:.2rem .45rem}.notification-result-tag.accepted{background:#16a34a33;color:#86efac}.notification-result-tag.rejected{background:#dc262633;color:#fca5a5}.no-notifications{color:#9ca3af;padding:2rem 0;text-align:center}.related-domains-wrapper{position:relative}.related-domains-trigger-btn{justify-content:center;min-width:122px}.related-domains-panel{animation:slideInDown .2s ease-out;background:#0f172af7;border:2px solid #10b98173;border-radius:12px;box-shadow:0 25px 50px -12px #0000008c;max-height:540px;overflow-y:auto;position:absolute;right:0;top:calc(100% + 10px);width:460px;z-index:999}.related-domains-header{border-bottom:1px solid #334155;padding:1rem 1.3rem}.related-domains-header h3{color:#f8fafc;font-size:1rem;margin:0}.related-domains-body{padding:.8rem 1rem 1rem}.related-domain-section{border-top:1px solid #475569b3;margin-top:.8rem;padding-top:.8rem}.related-domain-section:first-child{border-top:none;margin-top:0;padding-top:0}.related-domain-section-title{align-items:center;color:#cbd5e1;display:flex;font-size:.86rem;font-weight:600;justify-content:space-between;margin-bottom:.55rem}.related-domain-count{align-items:center;background:#10b98133;border:1px solid #10b98173;border-radius:12px;color:#86efac;display:inline-flex;font-size:.75rem;height:24px;justify-content:center;min-width:24px;padding:0 .45rem}.related-domain-empty{color:#94a3b8;font-size:.82rem;padding:.5rem .25rem}.related-domains-error{background:#7f1d1d47;border:1px solid #f8717173;border-radius:8px;color:#fca5a5;font-size:.8rem;margin-bottom:.6rem;padding:.55rem .65rem}.related-domain-list{display:flex;flex-direction:column;gap:.5rem}.related-domain-item{align-items:stretch;display:flex;gap:.45rem}.related-domain-link{background:#1e293bbf;border:1px solid #64748b99;border-radius:8px;cursor:pointer;flex:1 1;padding:.55rem .65rem;text-align:left;transition:all .2s ease}.related-domain-link:hover{background:#0f766e33;border-color:#10b981b3}.related-domain-name{color:#f8fafc;display:block;font-size:.88rem;font-weight:600}.related-domain-meta{color:#94a3b8;display:block;font-size:.76rem;margin-top:.2rem}.related-domain-fav-btn{align-items:center;background:#1e293bb8;border:1px solid #64748b99;border-radius:8px;color:#94a3b8;cursor:pointer;display:inline-flex;justify-content:center;transition:all .2s ease;width:34px}.related-domain-fav-btn.active,.related-domain-fav-btn:hover{border-color:#facc15bf;color:#facc15}.related-domain-fav-btn.active{background:#facc1526}.related-domain-fav-btn:disabled{cursor:not-allowed;opacity:.6}.pending-nodes-list{display:flex;flex-direction:column;gap:1rem}.pending-node-item{background:#33415599;border:1px solid #475569;border-radius:8px;padding:1rem}.node-details h4{color:#fff;font-size:1rem;font-weight:600;margin-bottom:.5rem}.node-description{color:#9ca3af}.associations-summary{color:#d1d5db;font-size:.75rem}.node-status{border-top:1px solid #475569;margin-top:.75rem;padding-top:.75rem}.status-badge{border-radius:4px;display:inline-block;font-size:.75rem;font-weight:600;padding:.25rem .5rem}.status-pending{background:#f59e0b33;color:#f59e0b}.status-approved{background:#10b98133;color:#10b981}.status-rejected{background:#ef444433;color:#ef4444}.submission-time{color:#9ca3af;font-size:.75rem;margin-top:.25rem}.notification-badge{align-items:center;background:#ef4444;border-radius:50%;color:#fff;display:flex;font-size:.75rem;font-weight:600;height:20px;justify-content:center;margin-left:.5rem;min-width:20px;padding:0 6px}.btn-disabled{background:#475569!important;color:#9ca3af!important;cursor:not-allowed!important;opacity:.6!important}.btn-disabled:hover{box-shadow:none!important;transform:none!important}@media (max-width:640px){.header-title{font-size:1.25rem}.tech-grid{grid-template-columns:1fr}.modal-content{margin:1rem;width:95%}.notifications-panel{right:0;width:min(92vw,380px)}.related-domains-panel{right:0;width:min(92vw,400px)}.relation-options,.search-input-group{flex-direction:column}.relation-options{gap:.5rem}.node-header,.pending-nodes-header{align-items:flex-start;flex-direction:column}.node-details{grid-template-columns:1fr}.node-actions{flex-direction:column}.resource-details{grid-template-columns:repeat(2,1fr)}.navigation-sidebar{left:.5rem;padding:.75rem;top:100px;width:140px}.home-container,.node-detail-container{margin-left:160px;padding:1rem}.location-resident-sidebar{right:.5rem;top:100px;width:250px}.admin-sidebar{width:160px}.nav-label{font-size:.8rem}.navigation-tree-modal{margin:1rem;max-width:95%}.navigation-tree-canvas-container{max-height:60vh;padding:.5rem}}.navigation-tree-canvas-container::-webkit-scrollbar-thumb{background:#a855f780;border-radius:4px}.navigation-tree-canvas-container::-webkit-scrollbar-thumb:hover{background:#a855f7b3}.page-transition-wrapper{bottom:0;left:0;pointer-events:none;position:fixed;right:0;top:0;z-index:9999}.shared-node-element{pointer-events:none;position:fixed;transition:all .8s cubic-bezier(.4,0,.2,1);z-index:10000}.page-transitioning-out{animation:fadeOutPage .8s ease-out forwards}@keyframes fadeOutPage{0%{opacity:1}to{opacity:0}}.page-transitioning-in{animation:fadeInPage .8s ease-out forwards;animation-delay:.4s;opacity:0}@keyframes fadeInPage{0%{opacity:0}to{opacity:1}}.node-transitioning{opacity:0!important}.webgl-scene-container{background:linear-gradient(135deg,#0f172a,#1e293b 50%,#0f172a);flex:1 1;height:100%;overflow:hidden;position:relative;width:100%}.webgl-canvas{cursor:default}.webgl-node-label-layer{inset:0;overflow:hidden;pointer-events:none;position:absolute;z-index:2}.webgl-node-label{align-items:center;background:#0000;border:none;color:#e2e8f0;display:flex;flex-direction:column;font-weight:700;gap:.04em;justify-content:center;overflow:visible;padding:0;position:absolute;text-align:center;text-shadow:0 1px 2px #020617e6,0 0 10px #0f172ab3;transform:translate(-50%,-50%);white-space:normal}.webgl-node-label .node-label-title{font-weight:700;line-height:1.06}.webgl-node-label .node-label-sense{font-size:.82em;font-weight:600;line-height:1.02;opacity:.95}.webgl-node-label.is-preview{color:#bae6fd}.sense-selector-open .webgl-node-label,.sense-selector-open .webgl-node-label-layer{display:none!important}.sense-selector-panel{grid-gap:.6rem;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);border:1px solid #a855f799;border-radius:14px;box-shadow:0 12px 32px #02061773;display:grid;gap:.6rem;grid-template-columns:.9fr 1.5fr;max-width:min(80vw,560px);min-width:360px;overflow:visible;padding:.65rem .75rem;pointer-events:auto;position:fixed;transform:translate(-50%,-50%);z-index:42}.sense-selector-title{align-items:center;border-right:1px solid #94a3b859;display:flex;font-size:1rem;font-weight:800;justify-content:center;letter-spacing:.02em;line-height:1.3;overflow-wrap:anywhere;padding-right:.55rem;text-align:center;white-space:normal;word-break:break-word}.sense-selector-title-btn{background:#0f172a52;border:1px solid #94a3b859;border-radius:10px;color:inherit;cursor:pointer;padding:.5rem .55rem;transition:border-color .2s ease,background-color .2s ease}.sense-selector-title-btn:hover{background:#1e293b80;border-color:#f4f4f5a6}.sense-selector-list{display:flex;flex-direction:column;gap:.35rem;max-height:none;overflow:visible;padding-right:0}.sense-selector-item{align-items:center;background:#0f172a61;border:1px solid #94a3b84d;border-radius:10px;color:inherit;cursor:pointer;display:flex;font-size:.84rem;font-weight:600;justify-content:center;line-height:1.35;overflow-wrap:anywhere;padding:.42rem .52rem;text-align:center;transition:border-color .2s ease,background-color .2s ease,transform .2s ease;white-space:normal;word-break:break-word}.sense-selector-item:hover{border-color:#f4f4f5a6;transform:none}.sense-selector-item.active{background:#facc152e;border-color:#facc15d9;font-weight:700}.title-relation-popup{-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);background:#0f172adb;border:1px solid #94a3b859;border-radius:14px;bottom:1.25rem;box-shadow:0 10px 32px #0206178c;color:#e2e8f0;left:50%;padding:.62rem .76rem .68rem;position:fixed;transform:translateX(-50%);width:min(88vw,720px);z-index:44}.title-relation-close{background:#64748b47;border:none;border-radius:50%;color:#f8fafc;cursor:pointer;height:1.5rem;position:absolute;right:.5rem;top:.4rem;width:1.5rem}.title-relation-header{font-size:.93rem;font-weight:700;margin-bottom:.42rem;text-align:center}.title-relation-diagram-list{display:flex;flex-direction:column;gap:.42rem;max-height:min(42vh,300px);overflow:auto;padding-right:.1rem}.title-relation-diagram-item{background:#0f172a47;border:1px solid #94a3b838;border-radius:12px;padding:.32rem .34rem .33rem}.title-relation-venn{--big-width:50%;--big-left:6%;--small-width:32%;--small-left:40%;--big-safe-width:48%;background:#0f172a42;border-radius:10px;height:114px;margin:0 auto;overflow:hidden;position:relative;width:min(100%,600px)}.title-relation-ellipse-title{color:#cbd5e1;font-size:.78rem;font-weight:700;line-height:1.25;max-width:34%;opacity:.92;overflow-wrap:anywhere;position:absolute;top:6px;white-space:normal;word-break:break-word}.title-relation-ellipse-title.large-title{left:calc(var(--big-left) - 1%);text-align:left}.title-relation-ellipse-title.small-title{left:calc(var(--small-left) + var(--small-width));text-align:right;transform:translateX(-100%)}.title-relation-ellipse{align-items:center;border:1px solid #f1f5f966;border-radius:50%;box-shadow:0 8px 20px #02061740;box-sizing:border-box;-webkit-clip-path:ellipse(50% 50% at 50% 50%);clip-path:ellipse(50% 50% at 50% 50%);display:flex;justify-content:center;overflow:hidden;padding:.15rem .35rem;position:absolute;text-align:center}.title-relation-ellipse.large{height:66px;left:var(--big-left);top:34px;width:var(--big-width)}.title-relation-ellipse.small{height:46px;left:var(--small-left);top:44px;width:var(--small-width)}.title-relation-ellipse.large{background:#3b82f642}.title-relation-ellipse.small{background:#f973163d}.title-relation-ellipse-text{font-size:.72rem;font-weight:600;line-height:1.25;max-width:95%;overflow-wrap:anywhere;word-break:break-word}.title-relation-ellipse.large .title-relation-ellipse-text{margin-right:auto;max-width:var(--big-safe-width);padding-left:.5rem;text-align:left}.title-relation-ellipse.small .title-relation-ellipse-text{max-width:84%;text-align:center}.title-relation-empty{color:#94a3b8;font-size:.78rem;padding:.85rem .5rem;text-align:center}@media (max-width:640px){.title-relation-venn{height:108px}.title-relation-ellipse-title{font-size:.7rem;max-width:38%}.title-relation-ellipse.large{height:62px;top:34px}.title-relation-ellipse.small{height:44px;top:44px}.title-relation-ellipse-text{font-size:.68rem}}.floating-search-bar{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#1e293bf2;border:2px solid #a855f780;border-radius:50px;box-shadow:0 10px 25px #00000080,0 0 30px #a855f74d;max-width:800px;min-width:600px;padding:.75rem 1.5rem;position:relative;transition:all .3s ease;width:90%;z-index:10}.search-and-create-container{align-items:center;gap:1rem;justify-content:center;width:100%}.search-input-wrapper{background:#0f172acc;border:1px solid #a855f74d;border-radius:25px;gap:.5rem}.search-input-wrapper:hover{background:#0f172ae6;border-color:#a855f780}.create-node-btn{align-items:center;background:linear-gradient(135deg,#10b981,#059669);border:none;border-radius:25px;box-shadow:0 4px 15px #10b9814d;color:#fff;cursor:pointer;display:flex;font-weight:600;gap:.5rem;padding:.75rem 1.5rem;transition:all .3s ease}.create-node-btn:hover{background:linear-gradient(135deg,#059669,#047857);box-shadow:0 6px 20px #10b98166;transform:translateY(-2px)}.create-node-btn:active{transform:translateY(0)}.floating-search-bar:hover{border-color:#a855f7b3;box-shadow:0 15px 35px #0009,0 0 40px #a855f766}.floating-search-bar .search-icon{color:#a855f7;flex-shrink:0}.search-input-floating::placeholder{color:#94a3b8}.floating-search-bar .search-clear-btn{align-items:center;background:#a855f733;border:none;border-radius:50%;color:#a855f7;cursor:pointer;display:flex;height:2rem;justify-content:center;transition:all .2s ease;width:2rem}.floating-search-bar .search-clear-btn:hover{background:#a855f766;transform:scale(1.1)}@media (max-width:768px){.search-container{min-width:auto;width:calc(100% - 2rem)}.floating-search-bar{min-width:auto;padding:.5rem 1rem;width:100%}.search-and-create-container{flex-direction:column;gap:.75rem}.search-input-wrapper{width:100%}.create-node-btn{justify-content:center;width:100%}}.search-results-panel{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:2px solid #a855f766;box-shadow:0 15px 40px #0009,0 0 30px #a855f733;left:0;max-height:60vh;max-width:800px;min-width:600px;position:absolute;top:100%;transform:none;width:100%;z-index:10}.search-results-scroll{display:flex;flex-direction:column;gap:.5rem;max-height:60vh;padding:.75rem}.search-results-scroll::-webkit-scrollbar{width:6px}.search-results-scroll::-webkit-scrollbar-track{background:#1e293b80;border-radius:3px}.search-results-scroll::-webkit-scrollbar-thumb{background:#a855f780;border-radius:3px}.search-results-scroll::-webkit-scrollbar-thumb:hover{background:#a855f7b3}.search-result-card{background:linear-gradient(135deg,#334155cc,#1e293be6);border:1px solid #a855f74d;padding:.75rem 1rem;transition:all .3s ease}.search-result-card:hover{background:linear-gradient(135deg,#a855f733,#7c3aed26);border-color:#a855f799;box-shadow:0 4px 15px #a855f733;transform:translateX(4px)}.search-card-title{font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.search-card-desc{font-size:.875rem;line-height:1.4}.search-no-results{color:#94a3b8}.search-loading-indicator,.search-no-results{background:#1e293bf2;border:2px solid #a855f74d;border-radius:12px;box-shadow:0 10px 25px #00000080;font-size:.95rem;left:0;margin-top:.5rem;padding:1rem 2rem;position:absolute;top:100%;transform:none;z-index:10}.search-loading-indicator{animation:pulse 1.5s ease-in-out infinite;color:#a855f7}@keyframes pulse{0%,to{opacity:1}50%{opacity:.6}}@media (max-width:768px){.search-results-panel{max-height:50vh;min-width:auto;top:5rem;width:calc(100% - 2rem)}.search-result-card{padding:.625rem .75rem}.search-card-title{font-size:.9rem}.search-card-desc{-webkit-line-clamp:1;font-size:.8rem}.siege-vs-block{grid-template-columns:1fr}.siege-vs-label{display:none}.siege-support-unit-row{grid-template-columns:1fr 68px}.siege-support-unit-row small{display:none}.location-siege-support-row{grid-template-columns:1fr auto auto}}.location-resident-sidebar{display:flex;flex-direction:column;max-height:calc(100vh - 140px);overflow:hidden;top:160px;width:320px}.location-sidebar-header{background:#7c3aed1a;border-bottom:1px solid #a855f74d;padding:1.5rem 1.25rem}.location-sidebar-header h3{color:#e9d5ff}.location-sidebar-content{flex:1 1;overflow-y:auto;padding:1.25rem}.location-sidebar-content::-webkit-scrollbar{width:8px}.location-sidebar-content::-webkit-scrollbar-track{background:#0f172a80;border-radius:4px}.location-sidebar-content::-webkit-scrollbar-thumb{background:#a855f766;border-radius:4px}.location-sidebar-content::-webkit-scrollbar-thumb:hover{background:#a855f799}.location-node-title{border-bottom:2px solid #a855f74d;color:#a855f7;margin-bottom:1.5rem;padding-bottom:1rem}.location-node-section{margin-bottom:1.5rem}.section-label{color:#a78bfa;font-size:.85rem;letter-spacing:.5px}.section-content{background:#3341554d;border-left:3px solid #a855f766;line-height:1.6}.knowledge-content{max-height:300px;white-space:pre-wrap}.location-siege-support-section{margin-top:1rem}.location-siege-support-list{display:flex;flex-direction:column;gap:.45rem}.location-siege-support-row{grid-gap:.45rem;align-items:center;background:#0f172a8c;border:1px solid #3b82f659;border-radius:8px;color:#e2e8f0;cursor:pointer;display:grid;gap:.45rem;grid-template-columns:1fr auto auto auto;padding:.5rem .6rem;text-align:left;width:100%}.location-siege-support-row:disabled{cursor:not-allowed;opacity:.55}.location-siege-support-row span{font-size:.76rem}.location-siege-support-row em{color:#fef08a;font-size:.82rem;font-style:normal;font-weight:700}.location-siege-support-row small{color:#bfdbfe;font-size:.74rem;grid-column:1/-1}.node-tag{border-radius:6px;display:inline-block;font-size:.8rem;padding:.375rem .75rem}.parent-tag{background:#60a5fa33;border:1px solid #60a5fa66;color:#93c5fd}.child-tag{background:#22c55e33;border:1px solid #22c55e66;color:#86efac}.location-sidebar-empty{align-items:center;display:flex;flex:1 1;justify-content:center;padding:2rem}.location-sidebar-empty p{color:#9ca3af;font-size:.9rem;font-style:italic}.admin-sidebar{opacity:.6}.admin-sidebar .location-sidebar-empty{color:#64748b}.admin-sidebar{width:200px}.location-selection-overlay{align-items:center;animation:gradientShift 10s ease infinite;background:linear-gradient(135deg,#0f172a,#581c87 50%,#0f172a);background-size:200% 200%;display:flex;inset:0;justify-content:center;position:fixed;z-index:9999}.location-selection-modal{background:#1e293bf2;border:2px solid #a855f780;border-radius:16px;box-shadow:0 25px 50px -12px #00000080;display:flex;flex-direction:column;max-height:90vh;max-width:800px;overflow:hidden;width:90%}.location-modal-header{border-bottom:1px solid #a855f74d;padding:1.5rem 2rem;text-align:center}.location-header-top{border-bottom:1px solid #a855f733;justify-content:space-between;margin-bottom:1rem;padding-bottom:.75rem}.location-header-top,.location-user-info{align-items:center;display:flex}.location-username{color:#e9d5ff;font-size:.9rem;font-weight:500}.location-logout-btn{align-items:center;background:#ef44441a;border:1px solid #ef44444d;border-radius:6px;color:#fca5a5;cursor:pointer;display:flex;font-size:.85rem;gap:.5rem;padding:.5rem 1rem;transition:all .2s ease}.location-logout-btn:hover{background:#ef444433;border-color:#ef444480;color:#fecaca}.location-modal-header h2{color:#fff;font-size:1.5rem;font-weight:700;text-shadow:0 0 20px #a855f780}.location-modal-content{display:flex;flex:1 1;flex-direction:column;gap:1.5rem;overflow-y:auto;padding:1.5rem 2rem;z-index:100}.location-search-section{position:relative}.location-search-bar{align-items:center;background:#334155cc;border:1px solid #475569;border-radius:12px;display:flex;padding:.75rem 1rem;transition:all .3s ease}.location-search-bar:focus-within{border-color:#a855f7;box-shadow:0 0 0 3px #a855f733}.location-search-bar .search-icon{color:#9ca3af;margin-right:.75rem}.location-search-input{background:#0000;border:none;color:#fff;flex:1 1;font-size:1rem;outline:none}.location-search-input::placeholder{color:#9ca3af}.location-search-clear{align-items:center;background:none;border:none;color:#9ca3af;cursor:pointer;display:flex;justify-content:center;padding:.25rem;transition:color .2s}.location-search-clear:hover{color:#e9d5ff}.location-search-results{background:#1e293bfa;border:1px solid #a855f74d;border-radius:8px;left:0;margin-top:.5rem;max-height:200px;overflow-y:auto;position:absolute;right:0;top:100%;z-index:10}.location-search-result-item{border-bottom:1px solid #a855f71a;cursor:pointer;padding:.75rem 1rem;transition:background .2s}.location-search-result-item:hover{background:#a855f733}.location-search-result-item.selected{background:#10b98133;border-color:#10b9814d}.location-search-result-item .result-title{color:#e9d5ff;font-size:.9rem;font-weight:600;margin-bottom:.25rem}.location-search-result-item .result-desc{-webkit-line-clamp:1;-webkit-box-orient:vertical;color:#9ca3af;display:-webkit-box;font-size:.8rem;overflow:hidden}.location-no-results,.location-searching{color:#9ca3af;font-size:.9rem;padding:1rem;text-align:center}.location-featured-section h3{color:#a78bfa;font-size:1rem;margin-bottom:.75rem}.location-featured-grid{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.location-featured-item{cursor:pointer;transition:transform .2s}.location-featured-item:hover{transform:scale(1.1)}.location-featured-item.selected .featured-circle{background:linear-gradient(135deg,#10b981,#34d399);border-color:#6ee7b7}.featured-circle{align-items:center;background:linear-gradient(135deg,#7c3aed,#a855f7);border:2px solid #c4b5fd;border-radius:50%;box-shadow:0 4px 15px #a855f74d;display:flex;height:70px;justify-content:center;width:70px}.featured-name{word-wrap:break-word;color:#fff;font-size:.65rem;font-weight:600;line-height:1.2;max-width:50px;padding:.25rem;text-align:center}.no-featured{color:#9ca3af;font-size:.9rem;padding:1rem}.location-selected-section h3{color:#a78bfa;font-size:1rem;margin-bottom:.75rem}.location-selected-node{align-items:center;background:#10b9811a;border:1px solid #10b9814d;border-radius:12px;display:flex;gap:1.5rem;padding:1rem}.selected-node-circle{align-items:center;background:linear-gradient(135deg,#10b981,#34d399);border:3px solid #6ee7b7;border-radius:50%;box-shadow:0 4px 20px #10b98166;display:flex;height:80px;justify-content:center;min-width:80px;width:80px}.selected-node-name{word-wrap:break-word;color:#fff;font-size:.75rem;font-weight:600;line-height:1.2;max-width:60px;padding:.25rem;text-align:center}.selected-node-info{display:flex;flex:1 1;flex-direction:column;gap:.75rem}.selected-node-desc{color:#9ca3af;font-size:.9rem;line-height:1.4}.btn-view-location{align-items:center;background:#a855f733;border:1px solid #a855f7;border-radius:6px;color:#e9d5ff;cursor:pointer;display:inline-flex;font-size:.85rem;gap:.5rem;padding:.5rem 1rem;transition:all .2s;width:-webkit-fit-content;width:fit-content}.btn-view-location:hover{background:#a855f766}.location-modal-footer{border-top:1px solid #a855f74d;display:flex;justify-content:center;padding:1.5rem 2rem}.btn-descend{align-items:center;border:none;border-radius:8px;cursor:pointer;display:flex;font-size:1.1rem;font-weight:600;gap:.5rem;padding:.75rem 2rem;transition:all .3s ease}.btn-descend.active{background:linear-gradient(135deg,#10b981,#34d399);box-shadow:0 4px 20px #10b98166;color:#fff}.btn-descend.active:hover{box-shadow:0 6px 25px #10b98199;transform:scale(1.05)}.btn-descend.disabled{background:#33415580;color:#64748b;cursor:not-allowed}.location-tree-overlay{align-items:center;background:#000000b3;display:flex;inset:0;justify-content:center;position:fixed;z-index:10000}.location-tree-modal{background:#1e293bfa;border:2px solid #a855f780;border-radius:12px;box-shadow:0 25px 50px -12px #00000080;display:flex;flex-direction:column;max-height:80vh;max-width:700px;overflow:hidden;width:90%}.location-tree-header{align-items:center;border-bottom:1px solid #a855f74d;display:flex;justify-content:space-between;padding:1rem 1.5rem}.location-tree-header h3{color:#fff;font-size:1.1rem}.location-tree-close{align-items:center;background:none;border:none;color:#9ca3af;cursor:pointer;display:flex;justify-content:center;padding:.25rem;transition:color .2s}.location-tree-close:hover{color:#e9d5ff}.location-tree-content{display:flex;flex:1 1;flex-direction:column;gap:.75rem;overflow:auto;padding:1rem}.location-tree-legend{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.legend-item{align-items:center;border-radius:4px;display:inline-flex;font-size:.75rem;padding:.25rem .75rem}.legend-item.current{background:#10b9814d;border:1px solid #10b981;color:#6ee7b7}.legend-item.child{background:#fbbf244d;border:1px solid #fbbf24;color:#fcd34d}.legend-item.path{background:#33415580;border:1px solid #475569;color:#cbd5e1}.location-tree-canvas-container{display:flex;flex:1 1;justify-content:center;overflow:auto}.location-tree-canvas{cursor:pointer}.location-tree-hint{color:#9ca3af;font-size:.8rem;font-style:italic;text-align:center}.alliance-section{margin:0 auto;max-width:1400px;padding:2rem}.user-alliance-status{margin-bottom:2rem}.current-alliance-card{align-items:center;background:#a855f71a;border:2px solid #a855f74d;border-radius:12px;display:flex;gap:1.5rem;padding:1.5rem}.alliance-flag{border-radius:8px;box-shadow:0 4px 6px #0000004d;flex-shrink:0;height:60px;width:60px}.alliance-info-compact{flex:1 1}.alliance-info-compact h3{color:#e9d5ff;font-size:1.5rem;margin:0 0 .5rem}.alliance-info-compact p{color:#c4b5fd;font-size:.95rem;margin:0}.no-alliance-prompt{background:#3341554d;border:2px dashed #a855f766;border-radius:12px;padding:2rem;text-align:center}.no-alliance-prompt p{color:#cbd5e1;font-size:1.1rem;margin-bottom:1rem}.alliances-grid{grid-gap:1.5rem;display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(350px,1fr))}.empty-alliances{color:#9ca3af;font-size:1.1rem;grid-column:1/-1;padding:3rem;text-align:center}.alliance-card{background:linear-gradient(135deg,#1e293be6,#334155e6);border:2px solid #a855f74d;border-radius:12px;cursor:pointer;overflow:hidden;transition:all .3s ease}.alliance-card:hover{border-color:#a855f799;box-shadow:0 10px 20px #a855f74d;transform:translateY(-5px)}.alliance-flag-large{background:linear-gradient(135deg,#7c3aed,#a855f7);height:120px}.alliance-card-content{padding:1.5rem}.alliance-name{color:#e9d5ff;font-size:1.4rem;font-weight:700;margin:0 0 .75rem}.alliance-declaration{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:#cbd5e1;display:-webkit-box;font-size:.95rem;line-height:1.5;margin:0 0 1rem;overflow:hidden}.alliance-stats{display:flex;gap:1.5rem;margin-bottom:1rem}.stat-item{align-items:center;color:#a5b4fc;display:flex;font-size:.9rem;gap:.5rem}.icon-tiny{height:16px;width:16px}.alliance-founder{border-top:1px solid #a855f733;color:#9ca3af;font-size:.85rem;padding-top:1rem}.btn-primary-small{font-size:.8rem!important;min-width:auto!important;padding:.25rem .5rem!important}.change-master-modal{max-height:85vh;max-width:600px;overflow-y:auto}.change-master-info{background:#3b82f61a;border:1px solid #3b82f64d;border-radius:8px;margin-bottom:1.5rem;padding:1rem}.change-master-info p{color:#cbd5e1;margin:.5rem 0}.change-master-info strong{color:#60a5fa}.user-search-results{margin-top:1.5rem}.user-search-results h4{color:#e9d5ff;font-size:1.1rem;margin:0 0 1rem}.user-list{background:#1e293b80;border:1px solid #a855f74d;border-radius:8px;max-height:300px;overflow-y:auto}.user-item{align-items:center;border-bottom:1px solid #a855f733;cursor:pointer;display:flex;justify-content:space-between;padding:1rem;transition:all .2s ease}.user-item:last-child{border-bottom:none}.user-item:hover{background:#a855f71a}.user-item.selected{background:#a855f733;border-left:3px solid #a855f7}.user-info{display:flex;flex-direction:column;gap:.25rem}.user-name{color:#e9d5ff;font-size:1rem;font-weight:500}.user-meta{color:#9ca3af;font-size:.85rem}.check-icon{color:#10b981}.no-results{color:#9ca3af;font-style:italic;padding:2rem;text-align:center}.selected-master-display{border-top:1px solid #a855f733;margin-top:1.5rem;padding-top:1.5rem}.selected-master-display h4{color:#e9d5ff;font-size:1.1rem;margin:0 0 1rem}.selected-master-card{align-items:center;background:#10b9811a;border:2px solid #10b9814d;border-radius:8px;display:flex;gap:1rem;padding:1rem}.master-name{color:#6ee7b7;flex:1 1;font-size:1.1rem;font-weight:500}.master-level{background:#10b98133;border-radius:4px;color:#10b981;font-size:.9rem;padding:.25rem .75rem}.btn-remove-selection{align-items:center;background:#ef444433;border:1px solid #ef44444d;border-radius:4px;color:#f87171;cursor:pointer;display:flex;justify-content:center;padding:.25rem;transition:all .2s ease}.btn-remove-selection:hover{background:#ef44444d}.no-selection{color:#9ca3af;font-style:italic;padding:1rem;text-align:center}.global-search-container{align-items:center;background:#1e293bf2;border-bottom:2px solid #a855f74d;display:flex;gap:1rem;justify-content:center;margin-bottom:0;padding:1rem;position:relative;z-index:50}.global-search-bar{align-items:center;background:#334155cc;border:2px solid #a855f780;border-radius:50px;box-shadow:0 4px 15px #0000004d,0 0 20px #a855f733;display:flex;flex:1 1;gap:.75rem;max-width:600px;padding:.75rem 1.5rem;transition:all .3s ease}.global-search-bar:hover{border-color:#a855f7b3;box-shadow:0 6px 20px #0006,0 0 30px #a855f74d}.global-search-bar .search-icon{color:#a855f7;flex-shrink:0}.create-node-btn{flex-shrink:0}.search-results-panel.global{background:#1e293bfa!important;border:2px solid #a855f780!important;border-radius:12px;box-shadow:0 15px 40px #000000b3,0 0 30px #a855f74d!important;left:46%;max-height:60vh;max-width:600px;min-width:400px;overflow:hidden;pointer-events:auto;width:90%;z-index:1000!important}.global-search-container .search-loading-indicator,.global-search-container .search-no-results,.search-results-panel.global{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin-top:.5rem;position:absolute;top:100%;transform:translateX(-50%)}.global-search-container .search-loading-indicator,.global-search-container .search-no-results{background:#1e293bfa;border:2px solid #a855f766;border-radius:12px;box-shadow:0 10px 25px #0009,0 0 20px #a855f733;left:50%;min-width:300px;padding:1rem 2rem;z-index:1000}@media (max-width:768px){.global-search-container{flex-direction:column;gap:.75rem}.global-search-bar{max-width:none;width:100%}.create-node-btn{justify-content:center;width:100%}}.node-loading-container{align-items:center;display:flex;flex-direction:column;gap:1.5rem;justify-content:center;min-height:60vh;padding:3rem}.loading-spinner{animation:spin .8s linear infinite;border:4px solid #a855f733;border-radius:50%;border-top-color:#a855f7;height:60px;width:60px}@keyframes spin{to{transform:rotate(1turn)}}.loading-text{color:#a855f7;font-size:1.1rem;font-weight:500;margin:0;text-align:center}.distribution-panel-overlay{align-items:center;background:#0206178c;display:flex;inset:0;justify-content:center;padding:18px;position:fixed;z-index:190}.distribution-panel-modal{background:#0f172af5;border:1px solid #38bdf873;border-radius:14px;box-shadow:0 20px 48px #0000008c;display:flex;flex-direction:column;gap:.6rem;max-height:calc(100vh - 36px);overflow-y:auto;padding:.95rem 1rem 1rem;position:relative;width:min(720px,calc(100vw - 36px))}.distribution-panel-close{background:#1e293bd1;border:1px solid #94a3b88c;border-radius:50%;color:#e2e8f0;cursor:pointer;font-size:1.1rem;height:28px;position:absolute;right:10px;top:8px;width:28px}.distribution-panel-title-row{align-items:center;display:flex;gap:.6rem;justify-content:space-between;padding-right:1.8rem}.distribution-panel-title-tags{align-items:center;display:flex;flex-wrap:wrap;gap:.4rem}.distribution-panel-title-row h3{color:#e2e8f0;font-size:1rem;margin:0}.distribution-panel-phase{border-radius:999px;font-size:.73rem;font-weight:700;padding:.22rem .58rem}.distribution-panel-phase.phase-entry_open{background:#22c55e33;color:#86efac}.distribution-panel-phase.phase-entry_closed{background:#fbbf2433;color:#fcd34d}.distribution-panel-phase.phase-settling{background:#3b82f633;color:#93c5fd}.distribution-panel-phase.phase-ended,.distribution-panel-phase.phase-none{background:#64748b40;color:#cbd5e1}.distribution-panel-participation-status{border-radius:999px;font-size:.72rem;font-weight:700;padding:.2rem .56rem}.distribution-panel-participation-status.joined{background:#22c55e33;color:#86efac}.distribution-panel-participation-status.not-joined{background:#3b82f633;color:#93c5fd}.distribution-panel-participation-status.locked{background:#f43f5e33;color:#fda4af}.distribution-panel-timer-row{align-items:center;display:flex;flex-wrap:wrap;gap:.9rem}.distribution-panel-timer-row span{color:#cbd5e1;font-size:.8rem}.distribution-panel-grid{grid-gap:.45rem;display:grid;gap:.45rem;grid-template-columns:repeat(3,minmax(0,1fr))}.distribution-panel-card{background:#1e293bc7;border:1px solid #64748b66;border-radius:8px;display:flex;flex-direction:column;gap:.14rem;padding:.42rem .5rem}.distribution-panel-card span{color:#a5b4fc;font-size:.72rem}.distribution-panel-card strong{color:#f8fafc;font-size:.9rem;word-break:break-all}.distribution-panel-tip{background:#33415580;border:1px solid #64748b73;border-radius:8px;color:#cbd5e1;font-size:.82rem;padding:.45rem .55rem}.distribution-panel-error{background:#b91c1c47;border:1px solid #ef444499;border-radius:8px;color:#fecaca;font-size:.82rem;padding:.45rem .55rem}.distribution-panel-actions{align-items:center;display:flex;flex-wrap:wrap;gap:.45rem}.distribution-panel-pool-row{background:#1e293bbd;border:1px solid #64748b66;border-radius:8px;display:flex;flex-direction:column;gap:.45rem;padding:.5rem .6rem}.distribution-panel-pool-row-title{color:#cbd5e1;font-size:.82rem;font-weight:600}.distribution-panel-pool-avatars{align-items:center;display:flex;flex-wrap:wrap;gap:.36rem;min-height:34px}.distribution-panel-pool-avatar{background:#0f172acc;border:1px solid #94a3b88c;border-radius:999px;height:30px;overflow:hidden;width:30px}.distribution-panel-pool-avatar img{display:block;height:100%;object-fit:cover;width:100%}.distribution-panel-pool-empty{color:#94a3b8;font-size:.76rem}@media (max-width:768px){.distribution-panel-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}.login-container{align-items:center;animation:gradientShift 10s ease infinite;background:linear-gradient(135deg,#0f172a,#581c87 50%,#0f172a);background-size:200% 200%;display:flex;justify-content:center;min-height:100vh;padding:1rem}@keyframes gradientShift{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}.login-box{animation:fadeIn .5s ease-out;background:#1e293be6;border:2px solid #a855f780;border-radius:12px;box-shadow:0 25px 50px -12px #00000080;max-width:28rem;padding:2rem;width:100%}@keyframes fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.login-header{margin-bottom:2rem;text-align:center}.login-title{color:#fff;font-size:1.875rem;font-weight:700;margin-bottom:.5rem;text-shadow:0 0 20px #a855f780}.login-subtitle{color:#9ca3af;font-size:.875rem}.login-form{display:flex;flex-direction:column;gap:1rem}.login-input{background:#334155cc;border:1px solid #475569;border-radius:8px;color:#fff;font-size:1rem;padding:.75rem 1rem;transition:all .3s ease;width:100%}.login-input::placeholder{color:#9ca3af}.login-input:focus{border-color:#a855f7;box-shadow:0 0 0 3px #a855f733;outline:none}.login-buttons{display:flex;gap:.75rem}@media (max-width:640px){.login-box{padding:1.5rem}}.admin-section{animation:fadeIn .5s ease-out;background:#1e293bf2;border:2px solid #ef444480;border-radius:12px;box-shadow:0 10px 25px -5px #0000004d;padding:2rem}.stats-grid{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-bottom:2rem}.stat-card{background:#33415599;border:1px solid #475569;border-radius:8px;padding:1.5rem;text-align:center;transition:all .3s ease}.stat-card:hover{border-color:#a855f7;box-shadow:0 10px 30px #a855f74d;transform:translateY(-5px)}.stat-card h3{color:#9ca3af;font-size:.875rem;margin-bottom:.5rem}.stat-value{color:#fff;font-size:2rem}.table-info{align-items:center;background:#33415599;border-radius:8px;display:flex;margin-bottom:1.5rem;padding:1rem}.table-info p{color:#d1d5db;font-size:1rem;margin:0}.table-info strong{color:#ef4444;font-size:1.2rem}.users-table-container{margin-top:2rem}.table-responsive{border-radius:8px;margin-top:1rem;overflow-x:auto}.users-table{background:#334155cc;border-collapse:collapse;border-radius:8px;overflow:hidden;width:100%}.users-table thead{background:#1e293be6}.users-table th{border-bottom:2px solid #ef4444;color:#ef4444;font-size:.875rem;font-weight:600;padding:1rem;text-align:left;text-transform:uppercase}.users-table tbody tr{border-bottom:1px solid #475569;transition:background .2s ease}.users-table tbody tr:hover{background:#ef44441a}.users-table td{color:#d1d5db;font-size:.875rem;padding:1rem;vertical-align:middle}.id-cell{color:#9ca3af;font-family:monospace;font-size:.75rem}.username-cell{color:#fff;font-weight:600}.password-cell{color:#fbbf24;font-family:monospace;font-weight:500}.action-cell{white-space:nowrap}.edit-input{width:100%}.edit-input,.edit-input-small{background:#1e293bcc;border:1px solid #6366f1;border-radius:4px;color:#fff;font-size:.875rem;padding:.5rem}.edit-input-small{width:80px}.btn-action{border:none;border-radius:4px;cursor:pointer;font-size:.75rem;font-weight:500;margin:0 .2rem;padding:.4rem .8rem;transition:all .3s ease}.btn-edit{background:#3b82f6;color:#fff}.btn-edit:hover{background:#2563eb;box-shadow:0 0 15px #3b82f680}.btn-delete{background:#ef4444;color:#fff}.btn-delete:hover{background:#dc2626;box-shadow:0 0 15px #ef444480}.btn-view{background:#2563eb;color:#fff}.btn-view:hover{background:#1d4ed8}.btn-primary-small{background:#4f46e5;color:#fff}.btn-primary-small:hover{background:#4338ca}.btn-featured{background:#3b82f633;border:1px solid #3b82f666;color:#bfdbfe}.btn-featured:hover{background:#2563eb59}.btn-featured-active{background:#f59e0b3d;border:1px solid #f59e0b73;color:#fde68a}.btn-featured-active:hover{background:#d9770659}.featured-badge-small{align-items:center;border:1px solid #f59e0b73;border-radius:999px;color:#fde68a;display:inline-flex;font-size:.72rem;padding:.2rem .55rem}.btn-save{background:#10b981;color:#fff}.btn-save:hover{background:#059669;box-shadow:0 0 15px #10b98180}.btn-cancel{background:#6b7280;color:#fff}.btn-cancel:hover{background:#4b5563}.btn-warning{background:#ef4444;color:#fff}.btn-warning:hover{background:#dc2626;box-shadow:0 0 20px #ef444480}.admin-tabs{border-bottom:2px solid #475569;display:flex;gap:.5rem;margin-bottom:2rem;padding-bottom:.5rem}.admin-tab{align-items:center;background:#33415599;border:1px solid #475569;border-radius:8px 8px 0 0;color:#d1d5db;cursor:pointer;display:flex;font-weight:600;gap:.5rem;padding:.75rem 1.5rem;transition:all .3s ease}.admin-tab:hover{background:#3b82f633;border-color:#3b82f6;color:#fff}.admin-tab.active{background:#3b82f6;border-color:#3b82f6;box-shadow:0 0 20px #3b82f64d;color:#fff}.nodes-table-container{margin-top:1rem}.admin-domain-list{display:flex;flex-direction:column;gap:.95rem}.admin-domain-card{background:#1e293bb8;border:1px solid #3b82f64d;border-radius:10px;overflow:hidden}.admin-domain-title-row{grid-gap:.9rem;border-bottom:1px solid #64748b47;display:grid;gap:.9rem;grid-template-columns:minmax(280px,1.2fr) minmax(260px,1fr);padding:.9rem}.admin-domain-title{color:#f8fafc;font-size:1.03rem;margin:0}.admin-domain-description{color:#cbd5e1;font-size:.84rem;line-height:1.5;margin:.4rem 0 0}.admin-domain-title-main .edit-textarea{margin-top:.5rem}.admin-domain-title-meta{align-content:flex-start;display:flex;flex-wrap:wrap;gap:.45rem}.admin-domain-meta-item{background:#0f172a73;border:1px solid #94a3b852;border-radius:999px;font-size:.75rem;padding:.2rem .55rem}.admin-domain-meta-edit,.admin-domain-meta-item{align-items:center;color:#cbd5e1;display:inline-flex}.admin-domain-meta-edit{background:#0f172a6b;border:1px solid #6366f159;border-radius:7px;font-size:.74rem;gap:.4rem;padding:.2rem .45rem}.admin-domain-meta-edit .edit-input-small{padding:.25rem .35rem;width:78px}.admin-domain-title-actions{align-items:center;border-bottom:1px solid #64748b3d;display:flex;flex-wrap:wrap;gap:.45rem;padding:.65rem .9rem}.admin-domain-sense-list{display:flex;flex-direction:column;gap:.7rem;padding:.65rem .9rem .95rem}.admin-domain-sense-item{grid-gap:.75rem;background:#0f172a80;border:1px solid #6366f13d;border-radius:8px;display:grid;gap:.75rem;grid-template-columns:minmax(220px,1fr) auto;padding:.7rem .75rem}.admin-domain-sense-title-row{align-items:center;display:flex;gap:.7rem;justify-content:space-between}.admin-domain-sense-title{color:#e2e8f0;font-size:.9rem;font-weight:700;margin:0}.admin-domain-sense-count{color:#93c5fd;font-size:.75rem}.admin-domain-sense-content{color:#94a3b8;font-size:.79rem;line-height:1.5;margin:.35rem 0 0}.admin-domain-sense-relations{display:flex;flex-wrap:wrap;gap:.36rem;margin-top:.5rem}.admin-domain-relation-chip{align-items:center;background:#1e293b8c;border:1px solid #94a3b847;border-radius:999px;color:#cbd5e1;display:inline-flex;font-size:.72rem;max-width:100%;overflow:hidden;padding:.2rem .55rem;text-overflow:ellipsis;white-space:nowrap}.admin-domain-relation-chip.outgoing{border-color:#3b82f66b;color:#bfdbfe}.admin-domain-relation-chip.incoming{border-color:#22c55e66;color:#bbf7d0}.admin-domain-relation-empty{color:#94a3b8;font-size:.75rem}.admin-domain-sense-actions{align-items:flex-start;display:flex;flex-wrap:wrap;gap:.4rem}.admin-delete-domain-modal{width:min(920px,96vw)}.admin-delete-domain-hint{color:#cbd5e1;line-height:1.5;margin:0 0 .75rem}.admin-delete-domain-total-preview{display:flex;flex-wrap:wrap;gap:.45rem;margin-bottom:.7rem}.admin-delete-domain-total-preview span{align-items:center;background:#1e293b8c;border:1px solid #94a3b859;border-radius:999px;color:#cbd5e1;display:inline-flex;font-size:.75rem;padding:.2rem .55rem}.admin-delete-domain-sense-list{display:flex;flex-direction:column;gap:.65rem;max-height:46vh;overflow-y:auto;padding-right:.35rem}.admin-delete-domain-loading{color:#93c5fd;font-size:.82rem;margin-bottom:.65rem}.admin-delete-domain-sense-item{background:#0f172a80;border:1px solid #64748b59;border-radius:8px;padding:.7rem}.admin-delete-domain-sense-title-row{align-items:center;color:#e2e8f0;display:flex;gap:.7rem;justify-content:space-between}.admin-delete-domain-sense-title-row span{color:#93c5fd;font-size:.75rem}.admin-delete-domain-sense-content{color:#94a3b8;font-size:.79rem;margin:.35rem 0 0}.admin-delete-domain-assoc-list{display:flex;flex-wrap:wrap;gap:.36rem;margin-top:.55rem}.admin-delete-domain-before-after-grid{grid-gap:.55rem;display:grid;gap:.55rem;grid-template-columns:repeat(2,minmax(0,1fr));margin-top:.55rem}.admin-delete-domain-before-after-grid.global{margin-bottom:.7rem;margin-top:0}.admin-delete-domain-before-after-block{background:#02061773;border:1px solid #64748b59;border-radius:8px;padding:.55rem}.admin-delete-domain-before-after-block h6{color:#93c5fd;font-size:.76rem;margin:0}.admin-delete-domain-before-after-block.after h6{color:#86efac}.admin-delete-bridge-decision-section{margin-top:.65rem}.admin-bridge-decision-list{display:flex;flex-direction:column;gap:.45rem}.admin-bridge-decision-item{background:#0f172a73;border:1px solid #64748b61;border-radius:8px;padding:.55rem}.admin-bridge-decision-line{align-items:center;color:#e2e8f0;display:flex;flex-wrap:wrap;font-size:.76rem;gap:.35rem;line-height:1.5}.admin-bridge-decision-line .arrow{color:#fcd34d;white-space:nowrap}.admin-bridge-decision-actions{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.45rem}.admin-bridge-decision-btn{background:#1e293b9e;border:1px solid #94a3b866;border-radius:6px;color:#cbd5e1;cursor:pointer;font-size:.74rem;padding:.26rem .6rem}.admin-bridge-decision-btn:hover:not(:disabled){border-color:#60a5faa6}.admin-bridge-decision-btn.active.reconnect{background:#14532d73;border-color:#22c55e8c;color:#bbf7d0}.admin-bridge-decision-btn.active.disconnect{background:#7f1d1d61;border-color:#f871718c;color:#fecaca}.admin-bridge-decision-btn:disabled{cursor:not-allowed;opacity:.6}.admin-delete-domain-assoc-chip{align-items:center;background:#1e293b8c;border:1px solid #94a3b852;border-radius:999px;color:#cbd5e1;display:inline-flex;font-size:.72rem;padding:.2rem .55rem}.admin-delete-domain-assoc-chip.outgoing{border-color:#3b82f66b;color:#bfdbfe}.admin-delete-domain-assoc-chip.incoming{border-color:#22c55e66;color:#bbf7d0}.admin-delete-domain-assoc-empty{color:#94a3b8;font-size:.75rem}.admin-delete-domain-confirm-check{align-items:flex-start;color:#e2e8f0;display:flex;font-size:.85rem;gap:.55rem;margin-top:.85rem}.admin-delete-domain-sense-list,.admin-domain-sense-relations{scrollbar-color:#94a3b88c #0f172a4d;scrollbar-width:thin}.admin-delete-domain-sense-list::-webkit-scrollbar,.admin-domain-sense-relations::-webkit-scrollbar{height:8px;width:8px}.admin-delete-domain-sense-list::-webkit-scrollbar-track,.admin-domain-sense-relations::-webkit-scrollbar-track{background:#0f172a4d;border-radius:999px}.admin-delete-domain-sense-list::-webkit-scrollbar-thumb,.admin-domain-sense-relations::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#60a5fa94,#3b82f66b);border-radius:999px}@media (max-width:980px){.admin-assoc-before-after-grid,.admin-delete-domain-before-after-grid,.admin-domain-sense-item,.admin-domain-title-row{grid-template-columns:1fr}}.nodes-table{background:#334155cc;border-collapse:collapse;border-radius:8px;overflow:hidden;width:100%}.nodes-table thead{background:#1e293be6}.nodes-table th{border-bottom:2px solid #3b82f6;color:#3b82f6;font-size:.875rem;font-weight:600;padding:1rem;text-align:left;text-transform:uppercase}.nodes-table tbody tr{border-bottom:1px solid #475569;transition:background .2s ease}.nodes-table tbody tr:hover{background:#3b82f61a}.nodes-table td{color:#d1d5db;font-size:.875rem;padding:1rem;vertical-align:middle}.node-name-cell{color:#fff;font-weight:600}.node-description-cell{color:#9ca3af;display:block;max-width:200px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.resource-display{display:flex;flex-direction:column;font-size:.75rem;gap:.25rem}.resource-display span{color:#d1d5db}.production-display{display:flex;flex-direction:column;font-size:.75rem;gap:.25rem}.production-display span{color:#d1d5db}.edit-textarea{font-family:inherit;font-size:.875rem;min-height:60px;resize:vertical;width:100%}.edit-input-tiny,.edit-textarea{background:#1e293bcc;border:1px solid #6366f1;border-radius:4px;color:#fff;padding:.5rem}.edit-input-tiny{font-size:.75rem;margin-right:.25rem;width:70px}.production-inputs,.resource-inputs{display:flex;flex-direction:column;gap:.25rem}.production-inputs .edit-input-tiny,.resource-inputs .edit-input-tiny{margin-bottom:.25rem;width:100%}.unit-type-editor-card{background:#1e293bb3;border:1px solid #3b82f659;border-radius:10px;margin:0 0 1rem;padding:1rem}.unit-type-editor-card h3{color:#e2e8f0;margin:0 0 .75rem}.unit-type-form-grid{grid-gap:.75rem;display:grid;gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(180px,1fr))}.unit-type-form-grid label{color:#cbd5e1;display:flex;flex-direction:column;font-size:.85rem;gap:.35rem}.unit-type-form-actions{display:flex;gap:.5rem;margin-top:.9rem}.pending-nodes-container{animation:fadeIn .5s ease-out;background:#1e293be6;border:2px solid #f59e0b80;border-radius:12px;box-shadow:0 10px 25px -5px #0000004d;padding:2rem}.pending-summary-tag{align-items:center;border-radius:999px;display:inline-flex;font-size:.82rem;font-weight:600;padding:.35rem .75rem}.pending-summary-tag.node{background:#f59e0b2e;border:1px solid #f59e0b73;color:#fbbf24}.pending-summary-tag.master{background:#3b82f62e;border:1px solid #3b82f673;color:#93c5fd}.pending-approval-sections{display:flex;flex-direction:column;gap:1.5rem}.pending-approval-section{border-radius:12px;padding:1rem}.pending-approval-section.node{background:#f59e0b0a;border:1px solid #f59e0b47}.pending-approval-section.master{background:#1e40af14;border:1px solid #3b82f64d}.pending-approval-section-header{align-items:center;color:#f8fafc;display:flex;justify-content:space-between;margin-bottom:1rem}.pending-approval-section-header h3{font-size:1.05rem;font-weight:700}.pending-section-count{align-items:center;background:#475569e6;border-radius:999px;color:#fff;display:inline-flex;font-size:.8rem;font-weight:700;height:28px;justify-content:center;min-width:28px;padding:0 .55rem}.pending-nodes-header{align-items:center;display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between;margin-bottom:2rem}.pending-nodes-title{align-items:center;color:#fff;display:flex;font-size:1.5rem;font-weight:700;gap:.5rem}.pending-count-badge{background:#f59e0b;border-radius:9999px;color:#fff;font-size:.875rem;font-weight:600;padding:.25rem .75rem}.pending-node-card{animation:slideUp .3s ease-out;background:#33415599;border:1px solid #475569;border-radius:8px;margin-bottom:1.5rem;padding:1.5rem;transition:all .3s ease}.pending-review-card{border-left:3px solid #0000}.pending-review-card-node{border-left-color:#f59e0b}.pending-review-card-master{background:#1e293bd1;border-color:#60a5fa73}.pending-node-card:hover{border-color:#f59e0b;box-shadow:0 10px 30px #f59e0b4d;transform:translateY(-2px)}.pending-review-card-master:hover{border-color:#60a5fa;box-shadow:0 10px 30px #3b82f647}.pending-card-badges{align-items:center;display:inline-flex;flex-wrap:wrap;gap:.5rem}.pending-card-type{align-items:center;border-radius:6px;display:inline-flex;font-size:.72rem;font-weight:700;letter-spacing:.2px;padding:.2rem .55rem}.pending-card-type-node{background:#f59e0b33;border:1px solid #f59e0b80;color:#fbbf24}.pending-card-type-master{background:#3b82f633;border:1px solid #3b82f680;color:#93c5fd}.node-header{align-items:flex-start;display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between;margin-bottom:1rem}.node-title-section{flex:1 1;min-width:200px}.node-name{color:#fff;margin-bottom:.5rem}.node-name,.node-title{font-size:1.25rem;font-weight:700}.node-title{color:#f8fafc;margin:0}.node-description{color:#d1d5db;font-size:.875rem;line-height:1.4;margin-bottom:.5rem}.node-meta{display:flex;flex-wrap:wrap;gap:1rem;margin-top:1rem}.meta-item{align-items:center;color:#9ca3af;display:flex;font-size:.875rem;gap:.5rem}.meta-label{font-weight:600}.meta-value{color:#fff}.node-details{grid-gap:1rem;background:#1e293bcc;border-radius:8px;display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));margin-bottom:1.5rem;padding:1rem}.detail-group{display:flex;flex-direction:column;gap:.5rem}.detail-label{color:#9ca3af;font-size:.75rem;font-weight:600;text-transform:uppercase}.detail-value{color:#fff;font-size:.875rem;font-weight:600}.resource-details{grid-gap:.75rem;display:grid;gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));margin-top:.5rem}.resource-item{background:#1e293b99;border-radius:6px;display:flex;flex-direction:column;gap:.25rem;padding:.5rem;text-align:center}.resource-name{color:#9ca3af;font-size:.75rem}.resource-amount{color:#fff;font-size:.875rem;font-weight:600}.associations-section{border-top:1px solid #475569;margin-top:1.5rem;padding-top:1.5rem}.associations-title{align-items:center;color:#fff;display:flex;font-size:1rem;font-weight:600;gap:.5rem;margin-bottom:1rem}.associations-list{display:flex;flex-direction:column;gap:.75rem}.association-item{align-items:center;background:#1e293bcc;border:1px solid #475569;border-radius:6px;display:flex;justify-content:space-between;padding:.75rem;transition:all .3s ease}.association-item:hover{border-color:#3b82f6}.association-info{align-items:center;display:flex;gap:1rem}.admin-association-info{flex:1 1;flex-wrap:wrap;gap:.5rem;justify-content:space-between}.admin-association-display-text{color:#e2e8f0;font-size:.875rem}.association-name{color:#fff;font-size:.875rem;font-weight:600}.relation-type{background:#10b98133;color:#10b981;padding:.25rem .5rem}.admin-relation-badge,.relation-type{border-radius:4px;font-size:.75rem;font-weight:600}.admin-relation-badge{padding:.2rem .6rem}.admin-relation-badge.parent{background:#22c55e33;color:#4ade80}.admin-relation-badge.child{background:#facc1533;color:#fcd34d}.admin-relation-option-cards{display:flex;flex-direction:column;gap:.75rem;margin-bottom:.75rem}.admin-relation-option-card{align-items:center;background:#0f172a8c;border:1px solid #6366f159;border-radius:8px;color:#e2e8f0;cursor:pointer;display:flex;gap:.75rem;padding:.85rem 1rem;text-align:left;transition:all .2s ease;width:100%}.admin-relation-option-card:hover{background:#1e293bbf;border-color:#818cf8a6}.admin-relation-option-card.selected{border-color:#60a5fad9;box-shadow:inset 0 0 0 1px #60a5fa59}.admin-relation-option-icon{align-items:center;border-radius:8px;display:flex;font-weight:700;height:32px;justify-content:center;width:32px}.admin-relation-option-icon.parent{background:#22c55e33;color:#4ade80}.admin-relation-option-icon.child{background:#facc1533;color:#fcd34d}.admin-relation-option-content h6{color:#f8fafc;font-size:.9rem;margin:0}.admin-relation-option-content p{color:#94a3b8;font-size:.78rem;margin:.25rem 0 0}.admin-assoc-search-item{align-items:center;display:flex;gap:.75rem;justify-content:space-between}.admin-assoc-search-main{display:flex;flex-direction:column;gap:.2rem}.admin-assoc-search-hint{color:#94a3b8;font-size:.75rem}.association-hint{font-size:.8rem;margin:.15rem 0 .6rem}.admin-edit-association-modal{width:min(860px,95vw)}.admin-edit-associations-section{margin-top:.25rem}.admin-edit-associations-header{align-items:center;border-bottom:1px solid #94a3b840;cursor:pointer;display:flex;justify-content:space-between;margin-bottom:.75rem;padding:.5rem .25rem}.admin-edit-associations-header h4{align-items:center;color:#f8fafc;display:flex;gap:.5rem;margin:0}.admin-edit-associations-list{display:flex;flex-direction:column;gap:.6rem}.admin-edit-association-item{align-items:center;background:#0f172a8c;border:1px solid #6366f140;border-radius:8px;display:flex;gap:.75rem;justify-content:space-between;padding:.75rem 1rem}.admin-edit-association-item.clickable{cursor:pointer}.admin-edit-association-item.clickable:hover{border-color:#60a5faa6}.admin-edit-association-info{align-items:center;display:flex;flex:1 1;flex-wrap:wrap;gap:.75rem;justify-content:space-between}.admin-edit-association-display{color:#e2e8f0;font-size:.875rem}.admin-edit-relation-badge{border-radius:4px;font-size:.75rem;font-weight:600;padding:.2rem .6rem}.admin-edit-relation-badge.extends{background:#22c55e33;color:#4ade80}.admin-edit-relation-badge.contains{background:#facc1533;color:#fcd34d}.admin-edit-relation-badge.insert{background:#6366f133;color:#a5b4fc}.admin-edit-association-actions{display:flex;gap:.45rem}.admin-add-association-btn{justify-content:center;margin-top:.6rem;width:100%}.admin-assoc-editor{background:#02061773;border:1px solid #6366f140;border-radius:10px;margin-top:.75rem;padding:1rem}.admin-assoc-step-indicator{margin-bottom:1rem;padding-bottom:1.25rem;position:relative}.admin-assoc-step-dot,.admin-assoc-step-indicator{align-items:center;display:flex;justify-content:center}.admin-assoc-step-dot{background:#ffffff14;border:2px solid #6366f159;border-radius:50%;color:#94a3b8;font-size:.8rem;font-weight:700;height:26px;width:26px;z-index:1}.admin-assoc-step-dot.active{border-color:#60a5fabf;color:#bfdbfe}.admin-assoc-step-dot.current{background:#3b82f640}.admin-assoc-step-line{background:#94a3b859;height:2px;width:38px}.admin-assoc-step-line.active{background:#60a5fabf}.admin-assoc-step-labels{bottom:0;display:flex;gap:1.1rem;justify-content:center;left:0;position:absolute;right:0}.admin-assoc-step-label{color:#94a3b8;font-size:.72rem}.admin-assoc-step-label.current{color:#e2e8f0}.admin-assoc-step h5{color:#f8fafc;margin:0 0 .4rem}.admin-assoc-step-description{color:#94a3b8;font-size:.84rem;margin:0 0 .85rem}.admin-assoc-relation-cards{display:flex;flex-direction:column;gap:.65rem}.admin-assoc-relation-card{align-items:center;background:#0f172a80;border:1px solid #6366f147;border-radius:8px;cursor:pointer;display:flex;gap:.75rem;padding:.85rem .95rem;transition:all .2s ease}.admin-assoc-relation-card:hover:not(.disabled){background:#1e293bbf;border-color:#60a5faa6}.admin-assoc-relation-card.disabled{cursor:not-allowed;opacity:.5}.admin-assoc-relation-icon{align-items:center;border-radius:8px;display:flex;font-weight:700;height:32px;justify-content:center;width:32px}.admin-assoc-relation-icon.extends{background:#22c55e33;color:#4ade80}.admin-assoc-relation-icon.contains{background:#facc1533;color:#fcd34d}.admin-assoc-relation-icon.insert{background:#6366f133;color:#a5b4fc}.admin-assoc-relation-content h6{color:#e2e8f0;margin:0}.admin-assoc-relation-content p{color:#94a3b8;font-size:.78rem;margin:.2rem 0 0}.admin-assoc-candidate-section,.admin-assoc-node-b-search{margin-bottom:.8rem}.admin-assoc-candidate-header{align-items:center;border-radius:6px;display:flex;font-size:.82rem;gap:.4rem;margin:0 0 .5rem;padding:.45rem .6rem}.admin-assoc-candidate-header.parent{background:#22c55e1f;color:#4ade80}.admin-assoc-candidate-header.child{background:#facc151f;color:#fcd34d}.admin-assoc-candidate-list{display:flex;flex-direction:column;gap:.45rem;max-height:160px;overflow-y:auto}.admin-assoc-candidate-item{background:#0f172a73;border:1px solid #6366f133;border-radius:7px;cursor:pointer;display:flex;flex-direction:column;gap:.2rem;padding:.65rem .75rem}.admin-assoc-candidate-item:hover{border-color:#60a5faa6}.admin-assoc-candidate-name{color:#f8fafc;font-size:.85rem}.admin-assoc-candidate-hint{color:#94a3b8;font-size:.75rem}.admin-assoc-preview-canvas-container{display:flex;justify-content:center;margin:.3rem 0 .75rem}.admin-assoc-preview-canvas{background:radial-gradient(circle at top,#1e293ba6,#020617cc);border:1px solid #6366f140;border-radius:8px}.admin-assoc-preview-info{background:#1e293b8c;border:1px solid #6366f133;border-radius:8px;color:#e2e8f0;font-size:.84rem;margin-bottom:.75rem;padding:.7rem .8rem}.admin-assoc-preview-actions{display:flex;gap:.65rem;justify-content:center}.admin-assoc-editor-navigation{display:flex;justify-content:space-between;margin-top:.9rem}.admin-assoc-strategy-panel{background:#0f172a85;border:1px solid #3b82f64d;border-radius:8px;margin-top:.9rem;padding:.85rem}.admin-assoc-strategy-header{align-items:baseline;display:flex;gap:.8rem;justify-content:space-between;margin-bottom:.65rem}.admin-assoc-strategy-header h4{color:#e2e8f0;font-size:.9rem;margin:0}.admin-assoc-strategy-tip{color:#93c5fd;font-size:.76rem}.admin-assoc-strategy-options{grid-gap:.6rem;display:grid;gap:.6rem;grid-template-columns:repeat(2,minmax(0,1fr))}.admin-assoc-strategy-option{background:#1e293b9e;border:1px solid #64748b73;border-radius:7px;color:#cbd5e1;cursor:pointer;display:flex;flex-direction:column;font-size:.84rem;gap:.2rem;padding:.6rem .7rem;text-align:left;transition:border-color .2s ease,background .2s ease}.admin-assoc-strategy-option:hover:not(:disabled){border-color:#60a5faa6}.admin-assoc-strategy-option.active{background:#1e40af52;border-color:#3b82f6bf;color:#eff6ff}.admin-assoc-strategy-option small{color:#94a3b8;font-size:.72rem;line-height:1.4}.admin-assoc-strategy-option:disabled{cursor:not-allowed;opacity:.6}.admin-assoc-mutation-preview{background:#0206178c;border:1px solid #3b82f647;border-radius:8px;margin-top:.85rem;max-height:280px;overflow-y:auto;padding:.85rem}.admin-assoc-before-after-grid{grid-gap:.55rem;display:grid;gap:.55rem;grid-template-columns:repeat(2,minmax(0,1fr));margin-bottom:.55rem}.admin-assoc-before-after-block{background:#0f172a73;border:1px solid #64748b59;border-radius:8px;padding:.55rem}.admin-assoc-before-after-block h6{color:#93c5fd;font-size:.78rem;margin:0 0 .3rem}.admin-assoc-before-after-block.after h6{color:#86efac}.admin-assoc-mutation-header{align-items:center;display:flex;gap:.8rem;justify-content:space-between;margin-bottom:.7rem}.admin-assoc-mutation-header h5{color:#e2e8f0;font-size:.88rem;margin:0}.strategy-badge{background:#1e293bb3;border:1px solid #94a3b866;border-radius:999px;color:#cbd5e1;font-size:.72rem;padding:.18rem .56rem}.strategy-badge.reconnect{background:#14532d73;border-color:#22c55e73;color:#bbf7d0}.strategy-badge.disconnect{background:#7f1d1d59;border-color:#f8717173;color:#fecaca}.admin-assoc-empty-change{background:#1e293b5c;border:1px dashed #64748b73;border-radius:6px;color:#cbd5e1;font-size:.8rem;padding:.6rem .7rem}.admin-assoc-mutation-block{margin-top:.65rem}.admin-assoc-mutation-block h6{color:#93c5fd;font-size:.79rem;margin:0 0 .36rem}.admin-assoc-mutation-line{align-items:center;color:#cbd5e1;display:flex;font-size:.77rem;gap:.4rem;line-height:1.45;padding:.2rem 0}.admin-assoc-mutation-line .endpoint{color:#e2e8f0}.admin-assoc-mutation-line .arrow{color:#93c5fd;white-space:nowrap}.admin-assoc-mutation-line.removed .arrow{color:#fda4af}.admin-assoc-mutation-line.added .arrow,.admin-assoc-mutation-line.reconnect .arrow{color:#86efac}.admin-assoc-mutation-line.warning .arrow{color:#fcd34d}.admin-edit-association-modal .admin-assoc-candidate-list,.admin-edit-association-modal .admin-assoc-mutation-preview,.admin-edit-association-modal .admin-edit-associations-list{scrollbar-color:#94a3b88c #0f172a59;scrollbar-width:thin}.admin-edit-association-modal .admin-assoc-candidate-list::-webkit-scrollbar,.admin-edit-association-modal .admin-assoc-mutation-preview::-webkit-scrollbar,.admin-edit-association-modal .admin-edit-associations-list::-webkit-scrollbar{width:8px}.admin-edit-association-modal .admin-assoc-candidate-list::-webkit-scrollbar-track,.admin-edit-association-modal .admin-assoc-mutation-preview::-webkit-scrollbar-track,.admin-edit-association-modal .admin-edit-associations-list::-webkit-scrollbar-track{background:#0f172a59;border-radius:999px}.admin-edit-association-modal .admin-assoc-candidate-list::-webkit-scrollbar-thumb,.admin-edit-association-modal .admin-assoc-mutation-preview::-webkit-scrollbar-thumb,.admin-edit-association-modal .admin-edit-associations-list::-webkit-scrollbar-thumb{background:linear-gradient(180deg,#60a5fa99,#3b82f673);border:1px solid #0f172a73;border-radius:999px}.node-actions{border-top:1px solid #475569;display:flex;gap:1rem;margin-top:1.5rem;padding-top:1.5rem}.pending-master-approve-btn{background:linear-gradient(135deg,#2563eb,#1d4ed8);color:#fff;flex:1 1;justify-content:center}.pending-master-approve-btn:hover{background:linear-gradient(135deg,#1d4ed8,#1e40af);box-shadow:0 0 20px #3b82f673}.pending-master-reject-btn{background:linear-gradient(135deg,#dc2626,#b91c1c);color:#fff;flex:1 1;justify-content:center}.pending-master-reject-btn:hover{background:linear-gradient(135deg,#b91c1c,#991b1b);box-shadow:0 0 20px #ef444459}.btn-approve{background:#10b981;color:#fff;flex:1 1;justify-content:center}.btn-approve:hover{background:#059669;box-shadow:0 0 20px #10b98180}.btn-reject{background:#ef4444;color:#fff;flex:1 1;justify-content:center}.btn-reject:hover{background:#dc2626;box-shadow:0 0 20px #ef444480}.no-pending-nodes{color:#9ca3af;padding:3rem;text-align:center}.no-pending-icon{font-size:3rem;margin-bottom:1rem;opacity:.5}.no-pending-text{font-size:1.125rem;margin-bottom:.5rem}.no-pending-subtext{font-size:.875rem}.alliances-admin-container{padding:1rem}.alliances-admin-grid{grid-gap:1.5rem;display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));margin-top:1.5rem}.alliance-admin-card{background:linear-gradient(135deg,#1e293be6,#334155e6);border:2px solid #a855f74d;border-radius:12px;padding:1.5rem;transition:all .3s ease}.alliance-admin-card:hover{border-color:#a855f780;box-shadow:0 4px 12px #a855f733}.alliance-admin-header{align-items:center;border-bottom:1px solid #a855f733;display:flex;gap:1rem;margin-bottom:1.5rem;padding-bottom:1rem}.alliance-flag-medium{border-radius:8px;box-shadow:0 4px 6px #0000004d;flex-shrink:0;height:60px;width:60px}.alliance-admin-info h3{color:#e9d5ff;font-size:1.3rem;margin:0 0 .5rem}.alliance-id{color:#9ca3af;font-family:monospace;font-size:.8rem;margin:0}.alliance-admin-details{margin-bottom:1.5rem}.detail-row{display:flex;gap:1rem;margin-bottom:.75rem}.detail-label{color:#a5b4fc;font-weight:500;min-width:80px}.detail-value{color:#cbd5e1;flex:1 1;word-break:break-word}.alliance-admin-actions{display:flex;gap:1rem}.alliance-edit-form{padding:.5rem 0}.alliance-edit-form .form-group{margin-bottom:1.5rem}.alliance-edit-form label{color:#a5b4fc;display:block;font-weight:500;margin-bottom:.5rem}.flag-preview-small{border-radius:6px;box-shadow:0 2px 4px #0000004d;height:50px;width:50px}.alliance-edit-actions{display:flex;gap:1rem;margin-top:1.5rem}.empty-alliances-admin{color:#9ca3af;font-size:1.1rem;grid-column:1/-1;padding:3rem;text-align:center}.conflict-warning{align-items:center;background:#f59e0b33;border:1px solid #f59e0b80;border-radius:6px;color:#fbbf24;display:inline-flex;font-size:.875rem;font-weight:500;gap:.5rem;margin-left:1rem;padding:.5rem 1rem}.conflict-warning.master{background:#3b82f62e;border-color:#3b82f673;color:#93c5fd}.pending-group{margin-bottom:1.5rem}.pending-group.has-conflict{background:#f59e0b0d;border:2px solid #f59e0b4d;border-radius:12px;padding:1rem}.pending-group.master-has-conflict{background:#1e40af14;border-color:#3b82f659}.conflict-group-header{align-items:center;background:#f59e0b26;border-radius:8px;color:#fbbf24;display:flex;font-weight:600;gap:.75rem;margin-bottom:1rem;padding:.75rem 1rem}.master-apply-group-header{background:#3b82f629;color:#93c5fd}.conflict-group-header .icon-small{color:#f59e0b}.master-apply-group-header .icon-small{color:#60a5fa}.conflict-hint{color:#fcd34d;font-size:.8rem;font-weight:400;margin-left:auto;opacity:.9}.pending-nodes-grid{display:flex;flex-direction:column;gap:1rem}.pending-nodes-grid.conflict-grid{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(350px,1fr))}.pending-node-card.conflict-card{background:#1e293bf2;border-color:#f59e0b66;position:relative}.pending-node-card.master-conflict-card{background:#0f172aeb;border-color:#3b82f673}.pending-node-card.conflict-card:hover{border-color:#f59e0bb3;box-shadow:0 8px 25px #f59e0b33}.pending-node-card.master-conflict-card:hover{border-color:#60a5fabf;box-shadow:0 8px 25px #3b82f638}.conflict-badge{background:linear-gradient(135deg,#f59e0b,#d97706);border-radius:4px;box-shadow:0 2px 6px #f59e0b66;color:#fff;font-size:.75rem;font-weight:600;padding:.25rem .75rem;position:absolute;right:1rem;top:-10px}.master-conflict-badge{background:linear-gradient(135deg,#3b82f6,#1d4ed8);box-shadow:0 2px 6px #3b82f666}.relation-type.extends{background:#22c55e33;color:#4ade80}.relation-type.contains{background:#facc1533;color:#fcd34d}.user-profession{color:#a5b4fc;font-size:.85rem;margin-left:.5rem}.admin-settings-container{display:flex;justify-content:center;margin-top:1.5rem}.admin-settings-card{background:#334155cc;border:1px solid #3b82f659;border-radius:12px;box-shadow:0 10px 25px #00000040;max-width:560px;padding:1.5rem;width:100%}.admin-settings-card h3{color:#e2e8f0;margin:0 0 .5rem}.admin-settings-desc{color:#94a3b8;line-height:1.5;margin:0 0 1.25rem}.admin-settings-row{align-items:center;display:flex;gap:1rem}.admin-settings-row label{color:#cbd5e1;min-width:180px}.admin-settings-current{color:#cbd5e1;margin-top:.85rem}.admin-settings-current strong{color:#60a5fa}.admin-settings-actions{display:flex;gap:.75rem;margin-top:1.2rem}.alliance-detail-modal{max-height:90vh;max-width:800px;overflow-y:auto}.alliance-detail-header{border-bottom:2px solid #a855f733;display:flex;gap:2rem;margin-bottom:2rem;padding-bottom:2rem}@media (max-width:768px){.alliance-detail-header{align-items:center;flex-direction:column;gap:1rem;text-align:center}}.alliance-flag-huge{border-radius:12px;box-shadow:0 8px 16px #0006;flex-shrink:0;height:150px;width:150px}.alliance-main-info{flex:1 1}.alliance-main-info h2{color:#e9d5ff;font-size:2rem;margin:0 0 1rem}.declaration-text{color:#cbd5e1;font-size:1.05rem;line-height:1.6;margin-bottom:1rem}.alliance-meta{color:#9ca3af;font-size:.9rem;margin-bottom:1.5rem}.alliance-meta,.alliance-stats-large{display:flex;gap:2rem}@media (max-width:768px){.alliance-meta,.alliance-stats-large{justify-content:center}}.stat-box{align-items:center;background:#a855f726;border:1px solid #a855f74d;border-radius:8px;display:flex;gap:1rem;padding:1rem 1.5rem}.stat-box .icon{color:#a855f7}.stat-number{color:#e9d5ff;display:block;font-size:1.8rem;font-weight:700}.stat-label{color:#c4b5fd;font-size:.85rem}.alliance-section-detail{margin-bottom:2rem}.alliance-tab-bar{display:flex;flex-wrap:wrap;gap:.5rem;margin-bottom:1.25rem}.alliance-tab-btn{background:#1e293b8c;border:1px solid #a855f759;border-radius:999px;color:#c4b5fd;cursor:pointer;font-size:.88rem;padding:.45rem .9rem;transition:all .2s ease}.alliance-tab-btn:hover{border-color:#a855f799;color:#e9d5ff}.alliance-tab-btn.active{background:#a855f747;border-color:#c084fccc;color:#f5f3ff}.alliance-tab-badge{align-items:center;background:#ef4444;border-radius:999px;color:#fff;display:inline-flex;font-size:.74rem;font-weight:700;height:1.2rem;justify-content:center;line-height:1;margin-left:.45rem;min-width:1.2rem;padding:0 .32rem}.alliance-section-detail h3{border-bottom:1px solid #a855f733;color:#e9d5ff;font-size:1.3rem;margin:0 0 1rem;padding-bottom:.5rem}.members-list{grid-gap:.75rem;display:grid;gap:.75rem;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.member-item{align-items:center;background:#33415580;border:1px solid #a855f733;border-radius:6px;display:flex;gap:.75rem;padding:.75rem 1rem}.member-name{color:#cbd5e1;flex:1 1;font-weight:500}.member-level{background:#a855f733;border-radius:4px;color:#a5b4fc;font-size:.85rem;padding:.25rem .5rem}.alliance-apply-list{display:flex;flex-direction:column;gap:.75rem}.alliance-apply-item{background:#3341556b;border:1px solid #a855f738;border-radius:8px;padding:.8rem .9rem}.alliance-apply-main{color:#cbd5e1;display:flex;flex-direction:column;gap:.3rem}.alliance-apply-main strong{color:#f5f3ff}.alliance-apply-meta{color:#94a3b8;font-size:.82rem;margin-top:.45rem}.alliance-apply-actions{display:flex;gap:.5rem;margin-top:.65rem}.alliance-manage-actions{display:flex;gap:.6rem;margin-top:.7rem}.alliance-manage-inline{align-items:center;display:flex;gap:.6rem}.alliance-manage-inline .form-input{max-width:220px}.alliance-leader-footer-actions{align-items:center;display:flex;gap:.6rem}.alliance-announcement-content{background:#1e293b80;border:1px solid #94a3b833;border-radius:8px;color:#d1d5db;line-height:1.6;padding:.85rem;white-space:pre-wrap}.alliance-announcement-time{color:#94a3b8;font-size:.85rem;margin-top:.6rem}.alliance-style-list{grid-gap:.85rem;display:grid;gap:.85rem;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));margin-bottom:1rem}.alliance-style-item{background:#3341556b;border:1px solid #94a3b840;border-radius:10px;padding:.75rem}.alliance-style-item.active{border-color:#22c55ea6;box-shadow:inset 0 0 0 1px #22c55e40}.alliance-style-item-header{align-items:center;color:#f8fafc;display:flex;gap:.6rem;justify-content:space-between;margin-bottom:.3rem}.alliance-style-active-badge{background:#86efac;border-radius:999px;color:#022c22;font-size:.72rem;font-weight:700;padding:.1rem .45rem}.alliance-style-item .alliance-style-preview.compact{min-height:130px}.alliance-style-item .alliance-style-preview.compact .alliance-style-preview-sphere{height:108px;width:108px}.alliance-style-item-actions{display:flex;gap:.5rem;margin-top:.45rem}.alliance-style-create-entry{display:flex;justify-content:flex-end}.alliance-style-creator-backdrop{align-items:center;background:#020617a8;display:flex;inset:0;justify-content:center;padding:1rem;position:fixed;z-index:1010}.alliance-style-creator-modal{background:#0f172af2;border:1px solid #818cf86b;border-radius:12px;box-shadow:0 22px 40px #0206178c;max-height:90vh;overflow:hidden;width:min(920px,96vw)}.alliance-style-creator-header{align-items:center;border-bottom:1px solid #94a3b840;display:flex;gap:.8rem;justify-content:space-between;padding:.9rem 1rem}.alliance-style-creator-header h4{color:#e2e8f0;font-size:1.05rem;margin:0}.alliance-style-creator-header .modal-close{background:#0000;border:none;border-radius:6px;color:#94a3b8;cursor:pointer;padding:.25rem}.alliance-style-creator-header .modal-close:hover{background:#ef444426;color:#fca5a5}.alliance-style-creator-content{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:minmax(320px,1fr) minmax(260px,.9fr);padding:1rem}.alliance-style-creator-left{background:#1e293b75;border:1px solid #6366f138;border-radius:10px;padding:.9rem}.alliance-style-creator-left .alliance-style-form-grid{margin-bottom:.9rem}.alliance-style-color-stack{grid-gap:.6rem;display:grid;gap:.6rem;grid-template-columns:1fr}.alliance-style-color-line{align-items:center;background:#0f172a80;border:1px solid #94a3b838;border-radius:8px;display:flex;gap:.8rem;justify-content:space-between;padding:.45rem .6rem}.alliance-style-color-line span{color:#cbd5e1;font-size:.85rem}.alliance-style-color-line .color-picker{border-radius:6px;height:36px;min-width:88px;width:88px}.alliance-style-creator-right{align-items:center;background:#1e293b5c;border:1px solid #94a3b833;border-radius:10px;display:flex;justify-content:center;padding:.9rem}.alliance-style-creator-right .alliance-style-preview{min-height:240px;width:100%}.alliance-style-create-panel{background:#1e293b73;border:1px solid #818cf859;border-radius:10px;padding:.9rem}.alliance-style-create-panel h4{color:#e2e8f0;font-size:1rem;margin:0 0 .8rem}.alliance-confirm-backdrop,.alliance-handover-backdrop{align-items:center;background:#020617b8;display:flex;inset:0;justify-content:center;padding:1rem;position:fixed;z-index:1020}.alliance-handover-modal{background:#0f172af7;border:1px solid #a855f76b;border-radius:12px;box-shadow:0 20px 38px #02061799;display:flex;flex-direction:column;max-height:88vh;overflow:hidden;width:min(560px,94vw)}.alliance-handover-header{align-items:center;border-bottom:1px solid #94a3b83d;display:flex;gap:.8rem;justify-content:space-between;padding:.9rem 1rem}.alliance-handover-header h4{color:#f5f3ff;font-size:1rem;margin:0}.alliance-handover-body{display:flex;flex-direction:column;gap:.7rem;padding:.9rem 1rem}.alliance-handover-list{display:flex;flex-direction:column;gap:.45rem;max-height:320px;overflow-y:auto}.alliance-handover-item{align-items:center;background:#1e293ba8;border:1px solid #94a3b852;border-radius:8px;color:#cbd5e1;cursor:pointer;display:flex;gap:.6rem;justify-content:space-between;padding:.52rem .65rem;text-align:left;width:100%}.alliance-handover-item.active{background:#14532d66;border-color:#22c55eb8;color:#dcfce7}.alliance-handover-item span:last-child{font-size:.76rem}.alliance-handover-error{background:#b91c1c38;border:1px solid #ef44448c;border-radius:8px;color:#fecaca;font-size:.86rem;padding:.5rem .62rem}.alliance-handover-footer{border-top:1px solid #94a3b82e;display:flex;gap:.55rem;justify-content:flex-end;padding:.85rem 1rem 1rem}.alliance-confirm-modal{background:#0f172afa;border:1px solid #f871716b;border-radius:12px;box-shadow:0 18px 34px #02061794;padding:1rem 1rem .95rem;width:min(420px,92vw)}.alliance-confirm-modal h4{color:#fee2e2;font-size:1.02rem;margin:0 0 .55rem}.alliance-confirm-modal p{color:#cbd5e1;font-size:.9rem;line-height:1.5;margin:0}.alliance-confirm-actions{display:flex;gap:.55rem;justify-content:flex-end;margin-top:.9rem}.alliance-style-form-grid{grid-gap:.8rem;display:grid;gap:.8rem;grid-template-columns:repeat(2,minmax(0,1fr));margin-bottom:.8rem}.alliance-style-color-row{grid-gap:.55rem;gap:.55rem}.mini-field{gap:.3rem}.mini-field span{font-size:.8rem}.mini-color-field{gap:.25rem}.mini-color-field span{font-size:.74rem}.mini-color-field .color-picker{height:36px;min-width:48px}.domains-list{display:flex;flex-direction:column;gap:.75rem}.domain-item{background:#33415580;border:1px solid #a855f733;gap:1rem;padding:1rem}.domain-info{display:flex;flex:1 1;flex-direction:column;gap:.25rem}.domain-name{color:#e9d5ff;font-size:1.05rem;font-weight:500}.domain-master{color:#a5b4fc;font-size:.9rem}.empty-message{color:#9ca3af;padding:2rem}@media (max-width:760px){.alliance-style-form-grid{grid-template-columns:1fr}.alliance-style-color-row{grid-template-columns:repeat(3,minmax(0,1fr))}.alliance-style-creator-content{grid-template-columns:1fr}.alliance-style-creator-right .alliance-style-preview{min-height:190px}}.alliance-style-preview{align-items:center;display:flex;justify-content:center;min-height:180px;padding:.5rem 0}.alliance-style-preview-sphere{align-items:center;animation:alliance-sphere-float 2.8s ease-in-out infinite;background:radial-gradient(circle at 30% 26%,#ffffffbf 0,#ffffff38 18%,#fff0 35%),radial-gradient(circle at 50% 74%,#312e81 0,#7c3aed 65%,#f5d0fe 100%);background:radial-gradient(circle at 30% 26%,#ffffffbf 0,#ffffff38 18%,#fff0 35%),radial-gradient(circle at 50% 74%,var(--sphere-secondary,#312e81) 0,var(--sphere-primary,#7c3aed) 65%,var(--sphere-rim,#f5d0fe) 100%);border-radius:50%;box-shadow:0 0 0 1px #ffffff42,0 14px 30px #93c5fd38,inset -12px -18px 28px #070a146b;display:flex;height:160px;justify-content:center;overflow:hidden;position:relative;width:160px}.alliance-style-preview-sphere:before{background:radial-gradient(circle,#ffffffb8 0,#ffffff0d 74%,#0000 100%);border-radius:50%;content:"";height:34%;inset:8% 10% auto auto;pointer-events:none;position:absolute;width:34%}.alliance-style-preview-sphere:after{content:"";inset:0;opacity:.18;pointer-events:none;position:absolute}.alliance-style-preview-sphere.pattern-dots:after{background-image:radial-gradient(circle,#ffffffb8 1.6px,#0000 1.8px);background-size:12px 12px}.alliance-style-preview-sphere.pattern-grid:after{background-image:linear-gradient(#ffffff94 1px,#0000 0),linear-gradient(90deg,#ffffff94 1px,#0000 0);background-size:16px 16px}.alliance-style-preview-sphere.pattern-diagonal:after{background-image:repeating-linear-gradient(135deg,#ffffff94 0 2px,#0000 2px 8px)}.alliance-style-preview-sphere.pattern-rings:after{background-image:repeating-radial-gradient(circle at 50% 50%,#ffffff94 0 2px,#0000 2px 9px)}.alliance-style-preview-sphere.pattern-noise:after{background-image:radial-gradient(#ffffff9e .9px,#0000 1px),radial-gradient(#ffffff59 .8px,#0000 1px);background-position:0 0,6px 7px;background-size:11px 11px,13px 13px}.alliance-style-preview-sphere.pattern-none:after{display:none}.alliance-style-preview-label{color:#fff;color:var(--sphere-text,#fff);font-size:1.15rem;font-weight:700;letter-spacing:.04em;position:relative;text-shadow:0 2px 6px #0f172a99;z-index:2}@keyframes alliance-sphere-float{0%{transform:translateY(0)}50%{transform:translateY(-6px)}to{transform:translateY(0)}}.create-alliance-modal{max-width:600px}.color-picker-group{align-items:center;display:flex;gap:1rem}.color-picker{border:2px solid #a855f74d;border-radius:6px;cursor:pointer;height:50px;width:80px}.flag-preview{align-items:center;border-radius:8px;box-shadow:0 4px 8px #0000004d;color:#fff;display:flex;flex:1 1;font-size:1.2rem;font-weight:700;height:80px;justify-content:center;text-shadow:0 2px 4px #00000080}.create-alliance-info{background:#fbbf241a;border:1px solid #fbbf244d;border-radius:8px;margin-top:1rem;padding:1rem}.create-alliance-info p{color:#fbbf24;font-weight:700;margin:0 0 .5rem}.create-alliance-info ul{color:#cbd5e1;margin:0;padding-left:1.5rem}.create-alliance-info li{margin-bottom:.25rem}.alliance-style-editor-grid{grid-gap:.8rem;display:grid;gap:.8rem;grid-template-columns:repeat(2,minmax(0,1fr));margin-bottom:.8rem}.mini-field{display:flex;flex-direction:column;gap:.35rem}.mini-field span{color:#cbd5e1;font-size:.82rem}.alliance-style-select{background:#0f172ae0;color:#f8fafc}.alliance-style-select option{background:#0f172a;color:#f8fafc}.alliance-style-color-row{grid-gap:.6rem;display:grid;gap:.6rem;grid-template-columns:repeat(5,minmax(0,1fr));margin-bottom:.5rem}.mini-color-field{align-items:center;display:flex;flex-direction:column;gap:.3rem}.mini-color-field span{color:#cbd5e1;font-size:.78rem}.mini-color-field .color-picker{height:40px;min-width:50px;width:100%}@media (max-width:700px){.alliance-style-editor-grid{grid-template-columns:1fr}.alliance-style-color-row{grid-template-columns:repeat(3,minmax(0,1fr))}}.profile-panel{background:linear-gradient(135deg,#1a1a2e,#16213e);border-radius:16px;color:#e0e0e0;margin:0 auto;max-width:800px;padding:2rem;width:100%}.profile-loading{color:#888;font-size:1.2rem;padding:4rem;text-align:center}.profile-header{align-items:center;border-bottom:1px solid #ffffff1a;display:flex;gap:1.5rem;margin-bottom:1.5rem;padding-bottom:1.5rem}.profile-avatar-display{flex-shrink:0}.profile-avatar-large{background:#0a0a15;border:3px solid #4a69bd;border-radius:16px;box-shadow:0 4px 20px #4a69bd4d;height:100px;width:100px}.profile-header-info{display:flex;flex-direction:column;gap:.5rem}.profile-username{color:#fff;font-size:1.8rem;font-weight:700;margin:0}.profile-role{background:#4a69bd4d;border-radius:20px;color:#8ca0d4;display:inline-block;font-size:.9rem;padding:4px 12px;width:-webkit-fit-content;width:fit-content}.profile-profession{color:#f1c40f;font-size:1rem;font-weight:500}.profile-tabs{border-bottom:1px solid #ffffff1a;display:flex;gap:.5rem;margin-bottom:1.5rem;padding-bottom:.5rem}.profile-tab{align-items:center;background:#0000;border:none;border-radius:8px;color:#888;cursor:pointer;display:flex;font-size:1rem;gap:8px;padding:12px 20px;transition:all .3s ease}.profile-tab:hover{background:#ffffff0d;color:#ccc}.profile-tab.active{background:#4a69bd33;color:#4a69bd}.profile-content{min-height:400px}.profile-info-section{padding:1rem 0}.info-grid{grid-gap:1.5rem;display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}.info-item{background:#ffffff08;border:1px solid #ffffff0d;border-radius:12px}.info-label{color:#888;display:block;margin-bottom:.5rem}.info-value{color:#fff;display:block;font-size:1.1rem;font-weight:500}.profile-avatar-section{padding:1rem 0}.avatar-preview{background:#ffffff08;border-radius:16px;margin-bottom:2rem;padding:1.5rem;text-align:center}.avatar-preview-img{background:#0a0a15;border:3px solid #4a69bd;border-radius:16px;height:120px;margin-bottom:.5rem;width:120px}.avatar-preview-label{color:#888;display:block;font-size:.9rem}.avatar-category{margin-bottom:2rem}.avatar-category-title{border-bottom:1px solid #ffffff1a;color:#aaa;font-size:1rem;margin-bottom:1rem;padding-bottom:.5rem}.avatar-grid{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:repeat(3,1fr)}.avatar-option{align-items:center;background:#ffffff08;border:2px solid #0000;border-radius:12px;cursor:pointer;display:flex;flex-direction:column;padding:1rem;position:relative;transition:all .3s ease}.avatar-option:hover{background:#ffffff14;border-color:#4a69bd80}.avatar-option.selected{background:#4a69bd26;border-color:#4a69bd}.avatar-option img{background:#0a0a15;border-radius:12px;height:80px;margin-bottom:.5rem;width:80px}.avatar-label{color:#aaa;font-size:.85rem}.avatar-option.selected .avatar-label{color:#4a69bd}.avatar-check{align-items:center;background:#4a69bd;border-radius:50%;color:#fff;display:flex;height:24px;justify-content:center;position:absolute;right:8px;top:8px;width:24px}.save-avatar-btn{font-size:1rem;margin-top:1rem;padding:14px;width:100%}.save-avatar-btn:disabled{cursor:not-allowed;opacity:.5}.profile-password-section{max-width:400px;padding:1rem 0}.password-form{gap:1.5rem}.form-group,.password-form{display:flex;flex-direction:column}.form-group{gap:.5rem}.form-group label{color:#aaa;font-size:.95rem}.form-input{background:#ffffff0d;border:1px solid #ffffff1a;border-radius:8px;color:#fff;font-size:1rem;padding:12px 16px;transition:all .3s ease}.form-input:focus{background:#ffffff14;border-color:#4a69bd;outline:none}.form-input::placeholder{color:#666}.password-error{background:#e74c3c26;border:1px solid #e74c3c4d;border-radius:8px;color:#e74c3c}.password-error,.password-success{align-items:center;display:flex;font-size:.9rem;gap:8px;padding:12px}.password-success{background:#27ae6026;border:1px solid #27ae604d;border-radius:8px;color:#27ae60}.change-password-btn{font-size:1rem;padding:14px}.change-password-btn:disabled{cursor:not-allowed;opacity:.5}.btn{align-items:center;border:none;border-radius:8px;cursor:pointer;display:flex;font-weight:500;gap:8px;justify-content:center;transition:all .3s ease}.btn-primary{background:linear-gradient(135deg,#4a69bd,#3c5aa6);color:#fff}.btn-primary:hover:not(:disabled){background:linear-gradient(135deg,#5a79cd,#4c6ab6);box-shadow:0 4px 15px #4a69bd66;transform:translateY(-2px)}@media (max-width:768px){.profile-panel{margin:.5rem;padding:1rem}.profile-header{flex-direction:column;text-align:center}.profile-avatar-large{height:80px;width:80px}.profile-tabs{flex-wrap:wrap}.profile-tab{flex:1 1;font-size:.9rem;justify-content:center;min-width:100px;padding:10px 12px}.avatar-grid{gap:.5rem;grid-template-columns:repeat(3,1fr)}.avatar-option{padding:.5rem}.avatar-option img{height:60px;width:60px}.avatar-label{font-size:.75rem}.info-grid{grid-template-columns:1fr}}.army-panel{background:#0f172ac7;border:1px solid #94a3b840;border-radius:12px;color:#e2e8f0;padding:16px}.army-panel-header{align-items:center;display:flex;flex-wrap:wrap;gap:8px;justify-content:space-between;margin-bottom:12px}.army-panel-header h2{font-size:1.25rem;margin:0}.army-balance strong{color:#fde047}.army-message{border-radius:8px;font-size:.92rem;margin-bottom:10px;padding:8px 10px}.army-message-error{background:#dc26262e;border:1px solid #f8717166;color:#fecaca}.army-loading{color:#cbd5e1;padding:12px 0}.army-content{grid-gap:14px;display:grid;gap:14px;grid-template-columns:minmax(0,1.8fr) minmax(300px,1fr)}.army-unit-grid{grid-gap:12px;display:grid;gap:12px;grid-template-columns:repeat(2,minmax(0,1fr))}.army-unit-card{background:#0f172a8f;border:1px solid #94a3b83d;border-radius:10px;display:flex;flex-direction:column;gap:10px;padding:12px}.army-unit-head{align-items:center;display:flex;gap:8px;justify-content:space-between}.army-unit-head h3{color:#f8fafc;font-size:1.05rem;margin:0}.army-unit-head span{color:#cbd5e1;font-size:.85rem}.army-unit-stats{grid-gap:6px;color:#dbeafe;display:grid;font-size:.88rem;gap:6px;grid-template-columns:repeat(2,minmax(0,1fr))}.army-unit-cost{color:#fde68a;font-size:.9rem}.army-unit-actions{grid-gap:8px;display:grid;gap:8px;grid-template-columns:88px minmax(0,1fr)}.army-unit-actions input{background:#0f172acc;border:1px solid #94a3b859;border-radius:8px;color:#f8fafc;padding:6px 8px;width:100%}.army-unit-actions .btn:disabled{cursor:not-allowed;opacity:.65}.army-step-group{display:flex;flex-direction:column;gap:6px}.army-step-row{display:flex;flex-wrap:wrap;gap:6px}.army-step-btn{background:#0f172abf;border:1px solid #94a3b859;border-radius:6px;color:#cbd5e1;cursor:pointer;font-size:.8rem;padding:4px 8px}.army-step-row.plus .army-step-btn{border-color:#4ade8059}.army-step-row.minus .army-step-btn{border-color:#f8717159}.army-step-btn:hover{border-color:#60a5facc;color:#eff6ff}.army-unit-foot{color:#cbd5e1;display:flex;font-size:.84rem;gap:8px;justify-content:space-between}.army-side-panel{display:flex;flex-direction:column;gap:12px}.army-preview-card,.army-roster-card{background:#0f172a8f;border:1px solid #94a3b83d;border-radius:10px;padding:12px}.army-preview-card h3,.army-roster-card h3{color:#f8fafc;margin:0 0 10px}.army-preview-empty{color:#cbd5e1;font-size:.9rem}.army-preview-list{display:flex;flex-direction:column;gap:8px;margin-bottom:10px}.army-preview-row{grid-gap:6px;align-items:center;display:grid;gap:6px;grid-template-columns:minmax(0,1fr) 72px 90px 56px}.army-preview-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.army-preview-row input{background:#0f172acc;border:1px solid #94a3b859;border-radius:6px;color:#f8fafc;padding:4px 6px;width:100%}.army-preview-cost{color:#fde68a;text-align:right}.army-preview-summary{display:flex;flex-direction:column;font-size:.9rem;gap:4px;margin-bottom:10px}.army-insufficient{color:#fca5a5}.army-roster-list{display:flex;flex-direction:column;gap:8px}.army-roster-row{align-items:center;background:#1e293b80;border-radius:8px;display:flex;justify-content:space-between;padding:8px 10px}@media (max-width:1200px){.army-content,.army-unit-grid{grid-template-columns:1fr}}.navigation-sidebar{max-height:calc(100vh - 140px);top:160px}.nav-relation{border:1px solid #0000;border-radius:999px;display:inline-flex;font-size:.72rem;font-weight:600;margin-top:.45rem;padding:.15rem .45rem}.nav-relation-parent{background:#22c55e33;border-color:#4ade8073;color:#bbf7d0}.nav-relation-child{background:#eab30833;border-color:#facc1573;color:#fef08a}.nav-relation-jump{background:#4755694d;border-color:#94a3b873;color:#cbd5e1}.tech-section{animation:fadeIn .5s ease-out;background:#1e293be6;border:1px solid #a855f74d;border-radius:12px;box-shadow:0 10px 25px -5px #0000004d;padding:1.5rem}.section-title-large{align-items:center;color:#fff;display:flex;font-size:1.5rem;font-weight:700;gap:.5rem;margin-bottom:1.5rem}.tech-grid{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:1fr}@media (min-width:768px){.tech-grid{grid-template-columns:repeat(2,1fr)}}.tech-card{background:#33415599;border:1px solid #475569;border-radius:8px;padding:1rem;transition:all .3s ease}.tech-card:hover{border-color:#a855f7;box-shadow:0 10px 30px #a855f74d;transform:translateY(-5px)}.tech-header{justify-content:space-between;margin-bottom:.75rem}.tech-header,.tech-info{align-items:center;display:flex}.tech-info{gap:.75rem}.tech-icon{font-size:2rem}.tech-name{color:#fff;font-size:1.125rem;font-weight:700}.tech-level{color:#9ca3af;font-size:.875rem}.tech-effects{color:#d1d5db;display:flex;flex-direction:column;font-size:.875rem;gap:.25rem;margin-top:.75rem}.home-container{flex:1 1;margin-left:200px;overflow-y:auto;padding:2rem}.home-search-section{margin:0 auto 3rem;max-width:800px;position:relative}.search-bar-home{align-items:center;background:#1e293bcc;border:2px solid #a855f74d;border-radius:12px;box-shadow:0 4px 20px #0000004d;display:flex;padding:1rem 1.5rem;position:relative}.search-bar-home:focus-within{border-color:#a855f799;box-shadow:0 4px 20px #a855f733}.search-icon{color:#a855f7;margin-right:1rem}.search-input-home{background:#0000;border:none;color:#e9d5ff;flex:1 1;font-size:1.1rem;outline:none}.search-input-home::placeholder{color:#94a3b8}.search-clear-btn{align-items:center;background:#a855f733;border:none;border-radius:50%;color:#a855f7;cursor:pointer;display:flex;height:32px;justify-content:center;transition:all .2s ease;width:32px}.search-clear-btn:hover{background:#a855f766;transform:scale(1.1)}.search-results-home{background:#1e293bfa;border:1px solid #a855f74d;border-radius:12px;box-shadow:0 10px 40px #00000080;left:0;max-height:500px;overflow-y:auto;padding:1rem;position:absolute;right:0;top:calc(100% + .5rem);z-index:100}.search-empty,.search-loading{color:#94a3b8;font-style:italic;padding:2rem;text-align:center}.results-list{display:flex;flex-direction:column;gap:.75rem}.result-item{background:#a855f70d;border-left:3px solid #a855f7;border-radius:8px;cursor:pointer;padding:1rem;transition:all .2s ease}.result-item:hover{background:#a855f726;transform:translateX(4px)}.result-header{align-items:center;display:flex;justify-content:space-between;margin-bottom:.5rem}.result-header h4{color:#e9d5ff;font-size:1.1rem;margin:0}.result-knowledge{background:#fbbf2433;border-radius:12px;color:#fbbf24;font-size:.85rem;font-weight:600;padding:.25rem .75rem}.result-desc{color:#c4b5fd;line-height:1.5;margin:.5rem 0}.result-meta{color:#94a3b8;display:flex;font-size:.85rem;gap:1rem}.node-card{background:#1e293bcc;border:2px solid #a855f733;border-radius:12px;cursor:pointer;padding:1.5rem;transition:all .3s ease}.node-card:hover{border-color:#a855f780;box-shadow:0 8px 24px #a855f74d;transform:translateY(-4px)}.node-card-header{align-items:flex-start;display:flex;justify-content:space-between;margin-bottom:1rem}.node-card-header h3{color:#e9d5ff;flex:1 1;font-size:1.25rem;margin:0}.node-badge{border-radius:12px;font-size:.75rem;font-weight:600;letter-spacing:.5px;padding:.25rem .75rem;text-transform:uppercase}.root-badge{background:#10b98133;border:1px solid #10b9814d;color:#10b981}.featured-badge{background:#f59e0b33;border:1px solid #f59e0b4d;color:#f59e0b}.node-card-desc{color:#c4b5fd;line-height:1.6;margin-bottom:1rem}.node-card-footer{border-top:1px solid #a855f733;justify-content:space-between;padding-top:1rem}.node-card-footer,.node-stat{align-items:center;display:flex}.node-stat{color:#94a3b8;font-size:.9rem;gap:.5rem}.node-stat svg{color:#fbbf24}.root-nodes-section{margin-bottom:3rem}.section-title{-webkit-text-fill-color:#0000;background:linear-gradient(135deg,#a855f7,#ec4899);-webkit-background-clip:text;background-clip:text;color:#e9d5ff;font-size:1.75rem;font-weight:700;letter-spacing:1px;margin-bottom:1.5rem;text-align:center;text-transform:uppercase}.root-nodes-grid{grid-gap:1.5rem;display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));justify-items:center}.root-node-card{max-width:400px;width:100%}.featured-nodes-section{margin-bottom:2rem}.featured-nodes-scroll{display:flex;gap:1.5rem;overflow-x:auto;padding:1rem .5rem;scroll-behavior:smooth}.featured-nodes-scroll::-webkit-scrollbar{height:8px}.featured-nodes-scroll::-webkit-scrollbar-track{background:#1e293b80;border-radius:4px}.featured-nodes-scroll::-webkit-scrollbar-thumb{background:#a855f780;border-radius:4px}.featured-nodes-scroll::-webkit-scrollbar-thumb:hover{background:#a855f7b3}.featured-node-card{flex-shrink:0;max-width:320px;min-width:320px}.empty-message{font-size:1.1rem;padding:3rem}.featured-badge-small{background:#f59e0b33;border:1px solid #f59e0b4d;border-radius:12px;color:#f59e0b;font-size:.75rem;font-weight:600;padding:.25rem .75rem}.btn-featured{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff}.btn-featured:hover{background:linear-gradient(135deg,#d97706,#b45309);transform:translateY(-2px)}.btn-featured-active{background:linear-gradient(135deg,#64748b,#475569);color:#fff}.btn-featured-active:hover{background:linear-gradient(135deg,#475569,#334155);transform:translateY(-2px)}.node-detail-container{display:flex;flex-direction:column;margin-left:200px;min-height:calc(100vh - 120px);padding:2rem}.navigation-sidebar{animation:slideInLeft .3s ease-out;background:#1e293bf2;border:2px solid #a855f780;border-radius:12px;box-shadow:0 10px 40px #00000080;left:1rem;max-height:calc(100vh - 160px);overflow-y:auto;padding:1rem;position:fixed;top:140px;width:180px;z-index:100}.navigation-header{margin-bottom:1rem}.navigation-title{color:#a855f7;font-size:.9rem;font-weight:600;letter-spacing:.5px;margin:0 0 .5rem;text-align:center;text-transform:uppercase}.navigation-divider{background:linear-gradient(90deg,#0000,#a855f780,#0000);height:2px;margin-bottom:.75rem}.nav-item{background:#33415599;border:2px solid #0000;border-radius:8px;margin-bottom:.5rem;padding:.75rem;transition:all .3s ease}.nav-item.clickable{cursor:pointer}.nav-item.clickable:hover{background:#a855f733;border-color:#a855f780;transform:translateX(4px)}.nav-item.omit-item{background:linear-gradient(135deg,#fbbf2433,#f59e0b33);border-color:#fbbf2480}.nav-item.omit-item:hover{background:linear-gradient(135deg,#fbbf244d,#f59e0b4d);border-color:#fbbf24b3;transform:translateX(4px)}.nav-item.omit-item .nav-label{color:#fbbf24;font-weight:600}.nav-item.active{background:#a855f74d;border-color:#a855f7;box-shadow:0 0 15px #a855f766}.nav-label{color:#e9d5ff;display:block;font-size:.9rem;font-weight:500;line-height:1.4;word-break:break-word}.nav-arrow{color:#a855f7;font-size:1.2rem;font-weight:700;margin:.25rem 0;text-align:center}.nav-branch{display:flex;gap:.5rem;margin-bottom:.5rem}.nav-item.branch-item{flex:1 1;font-size:.85rem;margin-bottom:0;padding:.5rem}.nav-item.branch-item .nav-label{font-size:.8rem}.navigation-sidebar::-webkit-scrollbar{width:6px}.navigation-sidebar::-webkit-scrollbar-track{background:#1e293b80;border-radius:3px}.navigation-sidebar::-webkit-scrollbar-thumb{background:#a855f780;border-radius:3px}.navigation-sidebar::-webkit-scrollbar-thumb:hover{background:#a855f7b3}.node-detail-header{align-items:center;background:#0000;border:none;border-radius:12px;display:flex;justify-content:space-between;margin-bottom:2rem;padding:1.5rem}.detail-title{color:#e9d5ff;font-size:2rem;font-weight:700;margin:0}.node-detail-canvas{background:#0000;border:none;cursor:pointer}.node-info-section{margin-bottom:2rem}.info-section-subtitle{border-bottom:2px solid #a855f74d;color:#e9d5ff;font-size:1.2rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem}.node-info-grid{grid-gap:1.5rem;display:grid;gap:1.5rem;grid-template-columns:repeat(2,1fr);margin-bottom:2rem}.info-item{background:#a855f70d;border-left:3px solid #a855f7;border-radius:8px;display:flex;flex-direction:column;gap:.5rem;padding:1rem}.info-label{color:#94a3b8;font-size:.85rem;font-weight:600;letter-spacing:.5px;text-transform:uppercase}.location-resident-sidebar{animation:slideInRight .3s ease-out;background:#1e293bf2;border:2px solid #a855f780;border-radius:12px;box-shadow:0 10px 40px #00000080;max-height:calc(100vh - 160px);overflow-y:auto;padding:1rem;position:fixed;right:1rem;top:180px;width:250px;z-index:100}@keyframes slideInRight{0%{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}.location-sidebar-header{border-bottom:2px solid #a855f74d;margin-bottom:1rem;padding-bottom:.75rem}.location-sidebar-header h3{color:#a855f7;font-size:1rem;font-weight:600;letter-spacing:.5px;margin:0;text-align:center;text-transform:uppercase}.location-node-title{color:#e9d5ff;font-size:1.25rem;font-weight:700;margin-bottom:1rem;text-align:center}.location-node-section{margin-bottom:1.25rem}.location-sidebar-jumpable{cursor:pointer;transition:all .2s ease}.location-sidebar-jumpable:hover{filter:brightness(1.06);transform:translateY(-2px)}.section-label{color:#94a3b8;font-size:.75rem;font-weight:600;margin-bottom:.5rem;text-transform:uppercase}.section-content{background:#33415566;border-radius:6px;color:#cbd5e1;font-size:.9rem;line-height:1.5;padding:.75rem}.section-tags{display:flex;flex-wrap:wrap;gap:.5rem}.node-tag{border-radius:4px;font-size:.75rem;font-weight:500;padding:.25rem .5rem}.parent-tag{background:#10b98133;border:1px solid #10b9814d;color:#10b981}.child-tag{background:#fbbf2433;border:1px solid #fbbf244d;color:#fbbf24}.knowledge-content{font-size:.85rem;max-height:150px;overflow-y:auto}.location-sidebar-empty{color:#94a3b8;font-style:italic;padding:2rem 0;text-align:center}.admin-sidebar{border-color:#ef444480}.admin-sidebar .location-sidebar-header{border-bottom-color:#ef44444d}.admin-sidebar .location-sidebar-header h3{color:#ef4444}.travel-sidebar-content{display:flex;flex-direction:column;gap:1rem}.travel-main-info{background:#33415573;border:1px solid #3b82f659;border-radius:8px;padding:.75rem}.travel-destination{color:#dbeafe;font-size:.9rem;margin-bottom:.5rem}.travel-metrics{color:#bfdbfe;display:flex;flex-direction:column;font-size:.8rem;gap:.35rem}.travel-anim-layout{grid-gap:.55rem;display:grid;gap:.55rem;grid-template-columns:1fr}.travel-node-card{-webkit-appearance:none;appearance:none;background:#1e293bbf;border:1px solid #94a3b840;border-radius:8px;color:inherit;padding:.65rem;text-align:left;width:100%}.travel-node-card.next{border-color:#22c55e66}.travel-node-card.reached{border-color:#3b82f666}.travel-node-card.clickable{cursor:pointer;transition:border-color .2s ease,background .2s ease,transform .2s ease}.travel-node-card.clickable:hover{background:#1e293beb;border-color:#a855f78c;transform:translateY(-1px)}.travel-node-card.disabled{cursor:default;opacity:.72}.travel-node-label{color:#94a3b8;font-size:.72rem}.travel-node-name{color:#e2e8f0;font-weight:600;line-height:1.25;margin-top:.2rem}.travel-track-wrap{padding:.35rem 0}.travel-track{background:linear-gradient(90deg,#22c55e40,#3b82f640);border-radius:999px;height:8px;overflow:hidden;position:relative}.travel-progress-dot{animation:travelPulse 1s ease-in-out infinite;background:radial-gradient(circle at 30% 30%,#fff,#f59e0b 70%);border-radius:50%;box-shadow:0 0 12px #f59e0be6;height:14px;position:absolute;top:50%;transform:translate(-50%,-50%);width:14px}.travel-stop-btn{justify-content:center;width:100%}@keyframes travelPulse{0%,to{transform:translate(-50%,-50%) scale(1)}50%{transform:translate(-50%,-50%) scale(1.1)}}.webgl-scene-container{height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:0}.webgl-canvas{display:block;height:100%;width:100%}.search-container{left:50%;max-width:90%;position:absolute;top:120px;transform:translateX(-50%);width:600px;z-index:50}.floating-search-bar{background:#1e293be6;border:1px solid #a855f74d;border-radius:12px;box-shadow:0 10px 30px #00000080;padding:.5rem}.search-and-create-container{display:flex;gap:.5rem}.search-input-wrapper{align-items:center;background:#0f172a99;border:1px solid #0000;border-radius:8px;display:flex;flex:1 1;padding:.5rem 1rem;transition:all .3s ease}.search-input-wrapper:focus-within{background:#0f172acc;border-color:#a855f7}.search-input-floating{background:#0000;border:none;color:#fff;flex:1 1;font-size:1rem;margin-left:.5rem;outline:none}.create-node-btn{white-space:nowrap}.search-results-panel{animation:slideDown .2s ease-out;background:#1e293bf2;border:1px solid #a855f74d;border-radius:12px;box-shadow:0 10px 30px #00000080;margin-top:.5rem;max-height:400px;overflow:hidden}.search-results-scroll{max-height:400px;overflow-y:auto;padding:.5rem}.search-result-card{background:#33415566;border:1px solid #0000;border-radius:8px;cursor:pointer;margin-bottom:.5rem;padding:1rem;transition:all .2s ease}.search-result-card:last-child{margin-bottom:0}.search-result-card:hover{background:#a855f733;border-color:#a855f780}.search-card-title{color:#e9d5ff;font-weight:600;margin-bottom:.25rem}.search-card-desc{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:#94a3b8;display:-webkit-box;font-size:.85rem;overflow:hidden}.search-loading-indicator,.search-no-results{background:#1e293be6;border:1px solid #a855f74d;border-radius:8px;color:#94a3b8;margin-top:.5rem;padding:1rem;text-align:center}.home-announcement-dock{align-items:flex-start;display:flex;pointer-events:none;position:fixed;right:0;top:300px;z-index:119}.home-announcement-dock-panel{background:#1e293bf2;border:0 solid #f43f5e73;border-radius:12px 0 0 12px;border-right:none;box-shadow:none;max-height:calc(100vh - 180px);opacity:0;overflow:hidden;pointer-events:auto;transform:translateX(24px);transition:width .25s ease,opacity .2s ease,transform .25s ease,border-width .2s ease,box-shadow .2s ease;width:0}.home-announcement-dock-panel.expanded{border-width:2px;box-shadow:-8px 10px 34px #00000073;opacity:1;transform:translateX(0);width:min(360px,calc(100vw - 88px))}.home-announcement-dock-header{align-items:center;border-bottom:1px solid #94a3b840;display:flex;gap:.6rem;justify-content:space-between;margin:0;padding:.75rem .9rem}.home-announcement-dock-header h3{color:#f8fafc;font-size:.95rem;margin:0}.home-announcement-header-actions{align-items:center;display:flex;gap:.45rem}.home-announcement-readall-btn{background:#0284c733;border:1px solid #38bdf873;border-radius:999px;color:#e0f2fe;cursor:pointer;font-size:.72rem;padding:.22rem .6rem;transition:all .2s ease}.home-announcement-readall-btn:hover:not(:disabled){background:#0284c759;border-color:#7dd3fce6}.home-announcement-readall-btn:disabled{cursor:not-allowed;opacity:.5}.home-announcement-collapse-btn{background:#0f172a99;border:1px solid #94a3b859;border-radius:999px;color:#cbd5e1;cursor:pointer;font-size:.72rem;padding:.22rem .6rem;transition:all .2s ease}.home-announcement-collapse-btn:hover{border-color:#fb7185bf;color:#f8fafc}.home-announcement-tab-row{grid-gap:.35rem;display:grid;gap:.35rem;grid-template-columns:1fr 1fr;padding:.55rem .9rem .4rem}.home-announcement-tab{background:#0f172a99;border:1px solid #94a3b859;border-radius:8px;color:#cbd5e1;cursor:pointer;font-size:.78rem;padding:.35rem .45rem;transition:all .2s ease}.home-announcement-tab:hover{border-color:#38bdf88c;color:#f8fafc}.home-announcement-tab.active{background:#713f126b;border-color:#fbbf24b3;color:#fef3c7}.home-announcement-dock-body{display:flex;flex-direction:column;gap:.45rem;max-height:calc(100vh - 250px);overflow-y:auto;padding:.85rem}.home-announcement-empty{border:1px dashed #94a3b873;border-radius:10px;color:#94a3b8;font-size:.85rem;padding:1rem .9rem}.home-announcement-item{background:#0f172ac7;border:1px solid #94a3b859;border-radius:10px;color:#e2e8f0;cursor:pointer;display:flex;flex-direction:column;gap:.2rem;padding:.55rem .7rem;text-align:left}.home-announcement-item:hover{background:#0f172ae6;border-color:#22c55ea6}.home-announcement-item.unread{border-color:#fbbf24a6}.home-announcement-new{color:#fbbf24;font-size:.7rem;font-weight:700}.home-announcement-title{color:#f8fafc;font-size:.86rem;font-weight:700}.home-announcement-message{color:#cbd5e1;font-size:.8rem;line-height:1.4}.home-announcement-dock-toggle{align-items:center;background:#0f172af0;border:2px solid #f43f5e9e;border-radius:12px 0 0 12px;border-right:none;box-shadow:-3px 8px 22px #00000073;color:#e2e8f0;cursor:pointer;display:flex;flex-direction:column;gap:.3rem;justify-content:center;min-height:108px;padding:.55rem .35rem;pointer-events:auto;position:relative;transition:background .2s ease,border-color .2s ease;width:46px}.home-announcement-dock-toggle:hover{background:#1e293bfa;border-color:#fb7185d9}.home-announcement-dock-label{font-size:.72rem;letter-spacing:1px;text-orientation:mixed;writing-mode:vertical-rl}.home-announcement-dock-dot{background:#ef4444;border-radius:50%;box-shadow:0 0 0 2px #0f172ae6;height:8px;position:absolute;right:8px;top:8px;width:8px}.home-location-dock{align-items:flex-start;display:flex;pointer-events:none;position:fixed;right:0;top:170px;z-index:120}.home-location-dock-panel{background:#1e293bf2;border:0 solid #a855f780;border-radius:12px 0 0 12px;border-right:none;box-shadow:none;max-height:calc(100vh - 150px);opacity:0;overflow:hidden;pointer-events:auto;transform:translateX(24px);transition:width .25s ease,opacity .2s ease,transform .25s ease,border-width .2s ease,box-shadow .2s ease;width:0}.home-location-dock-panel.expanded{border-width:2px;box-shadow:-8px 10px 34px #00000073;opacity:1;transform:translateX(0);width:min(340px,calc(100vw - 88px))}.home-location-sidebar-header{margin:0;padding:.75rem .9rem}.home-location-header-row{align-items:center;display:flex;gap:.75rem;justify-content:space-between}.home-location-header-row h3{font-size:.95rem;text-align:left}.home-location-collapse-btn{background:#0f172a99;border:1px solid #94a3b859;border-radius:999px;color:#cbd5e1;cursor:pointer;font-size:.72rem;padding:.22rem .6rem;transition:all .2s ease}.home-location-collapse-btn:hover{border-color:#a855f7a6;color:#f8fafc}.home-location-panel-body{max-height:calc(100vh - 220px);overflow-y:auto;padding:.85rem}.home-location-panel-body .location-sidebar-content{padding:0}.home-location-panel-body .location-node-title{font-size:1.1rem}.home-location-dock-toggle{align-items:center;background:#0f172af0;border:2px solid #a855f7a6;border-radius:12px 0 0 12px;border-right:none;box-shadow:-3px 8px 22px #00000073;color:#e2e8f0;cursor:pointer;display:flex;flex-direction:column;gap:.3rem;justify-content:center;min-height:108px;padding:.55rem .35rem;pointer-events:auto;transition:background .2s ease,border-color .2s ease;width:46px}.home-location-dock-toggle:hover{background:#1e293bfa;border-color:#38bdf8b8}.home-location-dock-label{font-size:.72rem;letter-spacing:1px;text-orientation:mixed;writing-mode:vertical-rl}@media (max-width:768px){.home-announcement-dock{bottom:218px;top:auto}.home-announcement-dock-panel.expanded{width:min(320px,calc(100vw - 76px))}.home-announcement-dock-body{max-height:min(40vh,320px)}.home-location-dock{bottom:96px;top:auto}.home-location-dock-panel.expanded{width:min(320px,calc(100vw - 76px))}.home-location-panel-body{max-height:min(46vh,380px)}}.number-pad-dialog-overlay{align-items:center;background:#0206179e;display:flex;inset:0;justify-content:center;padding:1rem;position:fixed;z-index:2100}.number-pad-dialog{background:#0f172af5;border:1px solid #94a3b88c;border-radius:12px;box-shadow:0 24px 48px #0206178c;display:flex;flex-direction:column;gap:.6rem;padding:.85rem;width:min(360px,calc(100vw - 2rem))}.number-pad-dialog-header strong{color:#e2e8f0;font-size:.95rem}.number-pad-dialog-desc{color:#cbd5e1;font-size:.8rem}.number-pad-value-row{align-items:center;display:flex;gap:.55rem}.number-pad-value-input{background:#1e293be0;border:1px solid #94a3b88c;border-radius:8px;color:#fff;flex:1 1;font-size:.92rem;font-weight:600;padding:.45rem .55rem}.number-pad-value-input:focus{border-color:#38bdf8d9;box-shadow:0 0 0 2px #38bdf833;outline:none}.number-pad-value-limit{color:#94a3b8;font-size:.74rem;white-space:nowrap}.number-pad-slider{width:100%}.number-pad-grid{grid-gap:.45rem;display:grid;gap:.45rem;grid-template-columns:repeat(3,minmax(0,1fr))}.number-pad-key{background:#1e293be6;border:1px solid #64748b94;border-radius:9px;color:#f8fafc;cursor:pointer;font-size:.92rem;font-weight:700;min-height:38px}.number-pad-key.utility{border-color:#38bdf885;color:#bae6fd}.number-pad-key:hover{background:#334155eb}.number-pad-error{color:#fca5a5;font-size:.78rem}.number-pad-actions{display:flex;gap:.45rem;justify-content:flex-end}.knowledge-domain-container{background:#1a1f35;height:100vh;left:0;position:fixed;top:0;width:100vw;z-index:100}.knowledge-domain-canvas{cursor:grab;display:block;height:100%;width:100%}.knowledge-domain-container.is-scene-panning .knowledge-domain-canvas{cursor:grabbing}.city-defense-layer{z-index:4}.city-defense-layer,.city-gate-layer{inset:0;pointer-events:none;position:absolute}.city-gate-layer{z-index:5}.city-gate-trigger{align-items:center;background:#0f172ae6;border:1px solid #64748b80;border-radius:16px;box-shadow:0 8px 20px #00000052;color:#e2e8f0;cursor:default;display:flex;flex-direction:column;gap:.2rem;height:68px;justify-content:center;pointer-events:auto;position:absolute;width:168px}.city-gate-trigger.cheng{border-color:#38bdf8b3;box-shadow:0 0 26px #38bdf83d}.city-gate-trigger.qi{border-color:#10b981b3;box-shadow:0 0 26px #10b9813d}.city-gate-trigger.editable{cursor:pointer}.city-gate-trigger:disabled{opacity:.82}.city-gate-name{font-size:.86rem;font-weight:700}.city-gate-total{color:#cbd5e1;font-size:.78rem}.gate-deploy-panel{background:#0f172af2;border:1px solid #64748b80;border-radius:12px;bottom:20px;display:flex;flex-direction:column;gap:.55rem;max-height:min(58vh,520px);overflow:auto;padding:.75rem;position:absolute;right:20px;width:340px;z-index:7}.gate-deploy-header{align-items:center;display:flex;gap:.5rem;justify-content:space-between}.gate-deploy-dropzone{background:#1e293b94;border:1px dashed #94a3b8a6;border-radius:10px;color:#cbd5e1;font-size:.8rem;padding:.6rem;text-align:center}.gate-deploy-section-title{color:#c4b5fd;font-size:.8rem;font-weight:700}.gate-deploy-current-list{display:flex;flex-direction:column;gap:.4rem}.gate-deploy-current-row{align-items:center;background:#1e293bcc;border:1px solid #64748b73;border-radius:8px;display:flex;gap:.45rem;justify-content:space-between;padding:.42rem .5rem}.gate-deploy-current-row span{color:#e2e8f0;font-size:.82rem;word-break:break-all}.gate-deploy-current-row strong{color:#f8fafc;font-size:.86rem}.gate-deploy-roster-list{display:flex;flex-direction:column;gap:.42rem}.gate-deploy-roster-card{background:#1e293bcc;border:1px solid #64748b73;border-radius:8px;cursor:default;display:flex;flex-direction:column;gap:.2rem;padding:.44rem .5rem}.gate-deploy-roster-card.draggable{cursor:grab}.gate-deploy-roster-card.dragging{opacity:.6}.gate-deploy-roster-card.disabled{opacity:.65}.gate-deploy-roster-card span{color:#f8fafc;font-size:.82rem;font-weight:600}.gate-deploy-roster-card em{color:#94a3b8;font-size:.74rem;font-style:normal}.domain-return-top-btn{align-items:center;background:#0f172ae6;border:1px solid #64748b9e;border-radius:999px;color:#e2e8f0;cursor:pointer;display:inline-flex;font-size:.8rem;font-weight:700;gap:.35rem;padding:.4rem .72rem;pointer-events:auto;position:absolute;right:126px;top:20px;z-index:7}.domain-return-top-btn:hover{background:#1e293bf5}.intel-heist-hud{background:#0f172ae6;border:1px solid #64748b8c;border-radius:14px;display:flex;flex-direction:column;gap:.45rem;left:50%;padding:.7rem .85rem .8rem;pointer-events:auto;position:absolute;top:18px;transform:translateX(-50%);width:min(620px,calc(100vw - 28px));z-index:8}.intel-heist-hud-header{align-items:center;color:#e2e8f0;display:flex;font-size:.82rem;gap:.55rem;justify-content:space-between}.intel-heist-hud-header strong{color:#f8fafc;font-size:.9rem}.intel-heist-timer-track{background:#334155c7;border-radius:999px;height:9px;overflow:hidden;position:relative}.intel-heist-timer-fill{background:linear-gradient(90deg,#22d3ee,#14b8a6 55%,#22c55e);inset:0 auto 0 0;position:absolute;transition:width .12s linear;width:100%}.intel-heist-exit-btn{align-self:flex-end;background:#1e293be6;border:1px solid #64748b9e;border-radius:999px;color:#e2e8f0;cursor:pointer;font-size:.78rem;font-weight:700;padding:.32rem .72rem}.intel-heist-exit-btn:hover{background:#334155eb}.intel-heist-hud-error{color:#fca5a5;font-size:.76rem}.city-defense-building{background:#0000;border:none;padding:0;pointer-events:none;position:absolute;transform:translateZ(0)}.city-defense-building.editable{cursor:grab;pointer-events:auto}.city-defense-building.intel-heist-searchable{cursor:pointer;pointer-events:auto}.city-defense-building.dragging.editable{cursor:grabbing}.city-defense-building-top{background:radial-gradient(circle at 35% 35%,#fde68a 0,#f59e0b 42%,#b45309 100%);border:1px solid #ffffff40;border-radius:999px;height:12px;height:var(--cylinder-top-height,12px);left:0;position:absolute;top:0;width:100%;z-index:2}.city-defense-building-body{background:linear-gradient(90deg,#78350f,#f59e0b 40%,#78350f);border:1px solid #fbbf2480;border-radius:0 0 999px 999px;box-shadow:0 8px 16px #00000052;height:30px;height:var(--cylinder-body-height,30px);left:8%;position:absolute;top:6px;top:calc(var(--cylinder-top-height, 12px)/2);width:84%;z-index:1}.city-defense-building.selected .city-defense-building-top{box-shadow:0 0 0 2px #facc1599,0 0 24px #facc1559}.city-defense-building.intel-heist-searchable.searched{opacity:.58}.city-defense-building.intel-heist-searchable.is-searching .city-defense-building-top{box-shadow:0 0 0 2px #22c55ead,0 0 20px #2dd4bf80}.intel-heist-building-progress{background:#0f172ac7;border:1px solid #64748b94;border-radius:999px;bottom:-30px;height:7px;left:50%;overflow:hidden;position:absolute;transform:translateX(-50%);width:74px}.intel-heist-building-progress-fill{background:linear-gradient(90deg,#34d399,#22c55e);display:block;height:100%;transition:width .1s linear;width:100%}.city-defense-building.intel .city-defense-building-top{background:radial-gradient(circle at 35% 35%,#dbeafe 0,#60a5fa 48%,#1d4ed8 100%)}.city-defense-intel-badge{background:#1e3a8ae0;border:1px solid #60a5fab3;border-radius:999px;color:#dbeafe;padding:2px 7px;top:-18px}.city-defense-building-label,.city-defense-intel-badge{font-size:11px;font-weight:700;left:50%;position:absolute;transform:translateX(-50%);white-space:nowrap}.city-defense-building-label{bottom:-18px;color:#f8fafc;text-shadow:0 1px 2px #00000073}.intel-heist-hint{background:#0f172ae6;border:1px solid #64748b94;border-radius:10px;bottom:24px;color:#e2e8f0;font-size:.82rem;left:50%;opacity:0;padding:.45rem .8rem;pointer-events:none;position:absolute;transform:translate(-50%,10px);transition:opacity .18s ease,transform .18s ease;z-index:8}.intel-heist-hint.visible{opacity:1;transform:translate(-50%)}.intel-heist-exit-confirm-overlay{align-items:center;background:#0206177a;display:flex;inset:0;justify-content:center;pointer-events:auto;position:absolute;z-index:10}.intel-heist-exit-confirm-card{background:#0f172af7;border:1px solid #64748b94;border-radius:12px;box-shadow:0 18px 40px #020617a8;display:flex;flex-direction:column;gap:.52rem;padding:.95rem 1rem;width:min(420px,calc(100vw - 24px))}.intel-heist-exit-confirm-card h3{color:#f8fafc;font-size:1rem;margin:0}.intel-heist-exit-confirm-card p{color:#cbd5e1;font-size:.83rem;margin:0}.intel-heist-exit-confirm-actions{display:flex;gap:.45rem;justify-content:flex-end}.intel-heist-timeout-overlay{align-items:center;background:#02061794;display:flex;inset:0;justify-content:center;pointer-events:auto;position:absolute;z-index:11}.intel-heist-timeout-card{background:#0f172af7;border:1px solid #f871719e;border-radius:12px;box-shadow:0 18px 40px #020617a8;display:flex;flex-direction:column;gap:.52rem;padding:.95rem 1rem;width:min(420px,calc(100vw - 24px))}.intel-heist-timeout-card h3{color:#fca5a5;font-size:1rem;margin:0}.intel-heist-timeout-card p{color:#e2e8f0;font-size:.83rem;margin:0}.intel-heist-timeout-actions{display:flex;justify-content:flex-end}.intel-heist-result-overlay{align-items:center;display:flex;inset:0;justify-content:center;pointer-events:auto;position:absolute;z-index:9}.intel-heist-result-card{background:#0f172af5;border:1px solid #38bdf88f;border-radius:14px;box-shadow:0 18px 44px #020617a6;display:flex;flex-direction:column;gap:.55rem;padding:.9rem 1rem;width:min(520px,calc(100vw - 26px))}.intel-heist-result-card h3{color:#ecfeff;font-size:1rem;margin:0}.intel-heist-result-card p{color:#bae6fd;font-size:.84rem;margin:0}.intel-heist-result-gates{grid-gap:.55rem;display:grid;gap:.55rem;grid-template-columns:repeat(2,minmax(0,1fr))}.intel-heist-result-gate{background:#1e293bb8;border:1px solid #64748b6b;border-radius:10px;display:flex;flex-direction:column;gap:.22rem;padding:.45rem .55rem}.intel-heist-result-gate strong{color:#f8fafc;font-size:.86rem}.intel-heist-result-gate span{color:#cbd5e1;font-size:.8rem}.intel-heist-result-actions{display:flex;gap:.45rem;justify-content:flex-end}.domain-right-dock{inset:0;pointer-events:none;position:absolute;z-index:5}.domain-info-panel{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#1e293bf2;border:2px solid #a855f780;border-radius:12px;box-shadow:0 15px 40px #0006;max-height:calc(100vh - 40px);overflow-y:auto;padding:1.5rem;pointer-events:auto;position:absolute;right:20px;top:20px;transition:transform .28s ease,opacity .24s ease;width:380px}.domain-right-dock.collapsed .domain-info-panel{opacity:0;pointer-events:none;transform:translateX(calc(100% + 26px))}.domain-right-dock-toggle{align-items:center;background:#0f172adb;border:1px solid #64748b99;border-radius:999px;color:#e2e8f0;cursor:pointer;display:inline-flex;gap:.35rem;padding:.4rem .7rem;pointer-events:auto;position:absolute;right:20px;top:20px;z-index:6}.domain-right-dock-toggle:hover{background:#1e293bf2}.domain-right-dock-label{font-size:.82rem;font-weight:700;letter-spacing:.3px}.domain-title{-webkit-text-fill-color:#0000;background:linear-gradient(135deg,#a855f7,#ec4899);-webkit-background-clip:text;background-clip:text;color:#e9d5ff;font-size:1.5rem;font-weight:700;margin:0 0 .75rem}.domain-description{color:#c4b5fd;font-size:.95rem;line-height:1.6;margin-bottom:1.25rem}.domain-stats{grid-gap:1rem;display:grid;gap:1rem;grid-template-columns:repeat(2,1fr);margin-bottom:1.5rem}.stat-item{background:#a855f71a;border-radius:8px;padding:.75rem;text-align:center}.stat-label{color:#94a3b8;display:block;font-size:.75rem;font-weight:600;margin-bottom:.25rem;text-transform:uppercase}.stat-value{color:#fbbf24;display:block;font-size:1.25rem;font-weight:700}.exit-domain-btn{background:linear-gradient(135deg,#ef4444,#dc2626);border:none;border-radius:8px;color:#fff;cursor:pointer;font-weight:600;padding:.75rem;transition:all .3s ease;width:100%}.exit-domain-btn:hover{box-shadow:0 4px 15px #ef44444d;transform:translateY(-2px)}.domain-tabs{display:flex;gap:.5rem;margin-bottom:1rem}.domain-tab-btn{background:#334155b3;border:1px solid #a855f773;border-radius:8px;color:#c4b5fd;cursor:pointer;flex:1 1;font-size:.82rem;font-weight:600;padding:.55rem .6rem}.domain-tab-btn.active{background:#9333ea59;color:#fff}.domain-tab-content{margin-bottom:1rem}.domain-managers-card{background:#0f172a73;border:1px solid #64748b73;border-radius:10px;display:flex;flex-direction:column;gap:.5rem;margin-bottom:.6rem;padding:.7rem}.domain-manager-section{display:flex;flex-direction:column;gap:.35rem}.domain-manager-section+.domain-manager-section{border-top:1px solid #64748b59;padding-top:.5rem}.domain-manager-avatar-row{align-items:flex-start;display:flex;flex-wrap:wrap;gap:.55rem}.domain-manager-avatar-row.admins{padding-top:.2rem}.domain-manager-avatar-item{align-items:center;display:flex;flex-direction:column;gap:.18rem;position:relative;width:52px}.domain-manager-avatar-item.master{width:66px}.domain-manager-avatar-img{background:#0f172ad9;border:2px solid #94a3b8a6;border-radius:999px;height:52px;width:52px}.domain-manager-avatar-item.master .domain-manager-avatar-img{border-color:#fbbf24d9;box-shadow:0 0 0 2px #fbbf2440;height:66px;width:66px}.domain-manager-name{color:#e2e8f0;font-size:11px;line-height:1.25;text-align:center;width:100%;word-break:break-all}.domain-defense-card{background:#0f172a73;border:1px solid #64748b73;border-radius:10px;display:flex;flex-direction:column;gap:.55rem;padding:.7rem}.domain-defense-actions{align-items:center;display:flex;flex-wrap:wrap;gap:.45rem}.domain-defense-selected-card{background:#1e293b8c;border:1px dashed #94a3b88c;border-radius:8px;display:flex;flex-direction:column;gap:.4rem;padding:.5rem .55rem}.distribution-participation-card{background:#0f172a80;border:1px solid #64748b73;border-radius:10px;display:flex;flex-direction:column;gap:.5rem;padding:.65rem}.distribution-participation-card.active{border-color:#38bdf88c;box-shadow:inset 0 0 0 1px #38bdf833}.distribution-participation-header{align-items:center;display:flex;gap:.45rem;justify-content:space-between}.distribution-participation-header strong{color:#e2e8f0;font-size:.88rem}.distribution-phase-badge{border-radius:999px;font-size:.72rem;font-weight:700;padding:.2rem .5rem}.distribution-phase-badge.phase-entry_open{background:#22c55e33;color:#86efac}.distribution-phase-badge.phase-entry_closed{background:#fbbf2433;color:#fcd34d}.distribution-phase-badge.phase-settling{background:#3b82f633;color:#93c5fd}.distribution-phase-badge.phase-ended,.distribution-phase-badge.phase-none{background:#64748b40;color:#cbd5e1}.distribution-participation-timers{display:flex;flex-direction:column;gap:.2rem}.distribution-participation-timers span{color:#cbd5e1;font-size:.78rem}.distribution-participation-metrics{grid-gap:.4rem;display:grid;gap:.4rem;grid-template-columns:repeat(2,minmax(0,1fr))}.distribution-participation-metric{background:#1e293bc7;border:1px solid #64748b73;border-radius:8px;display:flex;flex-direction:column;gap:.12rem;padding:.4rem .45rem}.distribution-participation-metric span{color:#a5b4fc;font-size:.72rem}.distribution-participation-metric strong{color:#f8fafc;font-size:.86rem;word-break:break-all}.distribution-participation-users{align-items:center;display:flex;flex-wrap:wrap;gap:.35rem}.distribution-participant-avatar{background:#0f172ab3;border:1px solid #94a3b8a6;border-radius:50%;height:28px;width:28px}.distribution-participation-actions{align-items:center;display:flex;flex-wrap:wrap;gap:.4rem}.manage-tab-content{display:flex;flex-direction:column;gap:.85rem;position:relative}.manage-edge-shell{min-height:320px;position:relative}.manage-edge-tabs{display:flex;flex-direction:column;gap:.45rem;left:0;position:absolute;top:.4rem;z-index:2}.manage-edge-tab{background:#1e293be0;border:1px solid #64748b8c;border-radius:9px 0 0 9px;border-right:none;color:#cbd5e1;cursor:pointer;font-size:.74rem;font-weight:700;letter-spacing:.8px;min-height:92px;padding:.45rem .2rem;text-orientation:mixed;transition:all .2s ease;width:34px;writing-mode:vertical-rl}.manage-edge-tab:hover{background:#334155f2;color:#f8fafc}.manage-edge-tab.active{background:#14532dcc;border-color:#22c55ebf;color:#dcfce7}.manage-edge-panel{background:#0f172a61;border:1px solid #64748b73;border-radius:0 10px 10px 10px;margin-left:34px;overflow:hidden;transition:max-height .25s ease,opacity .2s ease,transform .25s ease,padding .2s ease}.manage-edge-panel.open{max-height:2000px;opacity:1;transform:translateX(0)}.manage-edge-panel.collapsed{border-color:#0000;max-height:0;opacity:0;padding:0;transform:translateX(-16px)}.manage-edge-panel-body{display:flex;flex-direction:column;gap:.72rem;padding:.7rem}.domain-manage-title{color:#ede9fe;font-size:1.05rem}.domain-admins-section{background:#0f172a73;border:1px solid #64748b73;border-radius:10px;padding:.7rem}.domain-admins-subtitle{color:#c4b5fd;font-size:.82rem;font-weight:700;margin-bottom:.5rem}.domain-admin-list{display:flex;flex-direction:column;gap:.5rem}.domain-admin-row{align-items:center;background:#1e293bcc;border-radius:8px;display:flex;gap:.6rem;justify-content:space-between;padding:.5rem .6rem}.domain-admin-viewer-toggle{align-items:center;cursor:pointer;display:inline-flex;gap:.45rem}.domain-admin-viewer-toggle input{accent-color:#38bdf8;height:14px;width:14px}.domain-admin-row.pending{background:#1e293b80;border:1px dashed #94a3b880}.domain-master-row{border:1px solid #fbbf2473}.domain-admin-name{color:#f8fafc;font-size:.88rem;word-break:break-all}.domain-admin-name.pending{color:#94a3b8}.domain-admin-badge{border-radius:6px;font-size:.72rem;font-weight:700;padding:.2rem .45rem}.domain-admin-badge.master{background:#fbbf2433;color:#fbbf24}.domain-admin-badge.readonly{background:#64748b40;color:#cbd5e1}.domain-admin-badge.pending{background:#94a3b833;color:#94a3b8}.domain-admin-pending-actions{align-items:center;display:flex;gap:.45rem}.domain-admin-row-actions{align-items:center;display:inline-flex;gap:.45rem}.domain-admin-permission-actions{border-top:1px dashed #94a3b859;display:flex;flex-direction:column;gap:.45rem;margin-top:.45rem;padding-top:.45rem}.domain-admin-invite{background:#0f172a73;border:1px solid #64748b73;border-radius:10px;padding:.7rem}.domain-admin-search-input{background:#1e293bcc;border:1px solid #94a3b899;border-radius:8px;color:#fff;margin-bottom:.5rem;padding:.55rem .6rem;width:100%}.domain-admin-search-input:focus{border-color:#a855f7e6;box-shadow:0 0 0 2px #a855f738;outline:none}.domain-search-results{display:flex;flex-direction:column;gap:.45rem;max-height:200px;overflow-y:auto}.domain-search-row{align-items:center;background:#1e293bcc;border-radius:8px;display:flex;gap:.6rem;justify-content:space-between;padding:.45rem .55rem}.domain-manage-tip{color:#cbd5e1;font-size:.82rem}.domain-manage-error{background:#b91c1c33;border:1px solid #dc262680;border-radius:8px;color:#fca5a5;font-size:.82rem;padding:.5rem .6rem}.domain-manage-feedback{background:#7c3aed33;border:1px solid #7c3aed80;border-radius:8px;color:#e9d5ff;font-size:.82rem;padding:.5rem .6rem}.domain-distribution-section{background:#0f172a73;border:1px solid #64748b73;border-radius:10px;display:flex;flex-direction:column;gap:.6rem;padding:.7rem}.distribution-summary-grid{grid-gap:.45rem;display:grid;gap:.45rem;grid-template-columns:repeat(2,minmax(0,1fr))}.distribution-summary-grid-wide{grid-template-columns:repeat(4,minmax(0,1fr))}.distribution-summary-item{background:#1e293bcc;border-radius:8px;display:flex;flex-direction:column;gap:.2rem;padding:.45rem .55rem}.distribution-summary-item span{color:#a5b4fc;font-size:.72rem}.distribution-summary-item strong{color:#f8fafc;font-size:.9rem}.distribution-over-limit{color:#fca5a5!important}.distribution-editor{display:flex;flex-direction:column;gap:.65rem}.distribution-rule-toolbar{align-items:center;display:flex;gap:.6rem;justify-content:space-between}.distribution-publish-panel{background:#0f172a73;border-color:#22c55e73}.distribution-publish-row{grid-gap:.55rem;align-items:center;display:grid;gap:.55rem;grid-template-columns:120px minmax(0,1fr)}.distribution-publish-row label{color:#cbd5e1;font-size:.8rem}.distribution-publish-row input,.distribution-publish-row select{background:#0f172abf;border:1px solid #94a3b88c;border-radius:6px;color:#f8fafc;padding:.38rem .44rem;width:100%}.distribution-publish-actions{align-items:center;display:flex;flex-wrap:wrap;gap:.6rem}.distribution-countdown{background:#14532d47;border:1px solid #22c55e80;border-radius:8px;display:flex;flex-direction:column;gap:.2rem;padding:.5rem .6rem}.distribution-countdown strong{color:#dcfce7;font-size:.88rem}.distribution-countdown span{color:#bbf7d0;font-size:.78rem}.distribution-inline-switch{align-items:center;color:#e2e8f0;display:flex;font-size:.85rem;gap:.5rem}.distribution-input-row{grid-gap:.45rem;align-items:center;background:#1e293bc7;border-radius:8px;display:grid;gap:.45rem;grid-template-columns:minmax(0,1fr) 88px auto;padding:.4rem .5rem}.distribution-input-row span{color:#e2e8f0;font-size:.82rem;word-break:break-all}.distribution-input-row input,.distribution-input-row select{background:#0f172abf;border:1px solid #94a3b88c;border-radius:6px;color:#f8fafc;padding:.35rem .4rem;width:100%}.distribution-input-row input:focus{border-color:#a855f7e6;outline:none}.distribution-input-row input:disabled,.distribution-input-row select:disabled{cursor:not-allowed;opacity:.55}.distribution-subblock{border:1px solid #64748b4d;border-radius:8px;display:flex;flex-direction:column;gap:.45rem;padding:.5rem}.distribution-subtitle{color:#c4b5fd;font-size:.8rem;font-weight:700}.distribution-row-actions{display:flex;gap:.35rem}.distribution-tag-row{align-items:center;background:#1e293bc7;border-radius:8px;display:flex;gap:.45rem;justify-content:space-between;padding:.38rem .48rem}.distribution-tag-row span{color:#e2e8f0;font-size:.8rem;word-break:break-all}.distribution-tag-row.danger{border:1px solid #dc26268c}.distribution-slot-editor{display:flex;gap:.45rem}.distribution-slot-editor select{background:#0f172abf;border:1px solid #94a3b88c;border-radius:6px;color:#f8fafc;padding:.35rem .4rem}.distribution-time-list{display:flex;flex-direction:column;gap:.4rem}.distribution-fixed-row{grid-gap:.2rem;background:#1e293bc7;border:1px solid #6366f159;border-radius:8px;display:grid;gap:.2rem;padding:.48rem .56rem}.distribution-fixed-row span{color:#c7d2fe;font-size:.8rem}.distribution-fixed-row strong{color:#f8fafc;font-size:.95rem}.distribution-fixed-row em{color:#94a3b8;font-size:.78rem;font-style:normal}.distribution-fixed-row.danger{border-color:#ef44448c}.distribution-rule-modal-overlay{align-items:center;background:#020617b8;display:flex;inset:0;justify-content:center;padding:20px;position:fixed;z-index:180}.distribution-rule-modal{background:#0f172af5;border:1px solid #818cf866;border-radius:14px;box-shadow:0 16px 46px #0000008c;display:flex;flex-direction:column;max-height:calc(100vh - 40px);overflow:hidden;width:min(1040px,calc(100vw - 40px))}.distribution-rule-modal-header{align-items:center;border-bottom:1px solid #64748b59;display:flex;gap:.8rem;justify-content:space-between;padding:.85rem 1rem}.distribution-rule-modal-header strong{color:#e2e8f0;font-size:.95rem}.distribution-modal-header-actions{align-items:center;display:flex;gap:.45rem}.distribution-rule-modal-body{grid-gap:.8rem;display:grid;gap:.8rem;grid-template-columns:260px minmax(0,1fr);min-height:0;padding:.8rem}.distribution-rule-sidebar{background:#0f172ab3;border:1px solid #64748b59;border-radius:10px;display:flex;flex-direction:column;gap:.6rem;min-height:0;padding:.6rem}.distribution-rule-list{display:flex;flex-direction:column;gap:.45rem;min-height:0;overflow-y:auto}.distribution-rule-list-item{align-items:center;background:#1e293bc7;border:1px solid #64748b59;border-radius:8px;color:#e2e8f0;cursor:pointer;display:flex;gap:.4rem;justify-content:space-between;padding:.45rem .55rem;width:100%}.distribution-rule-list-item em{color:#22c55e;font-size:.72rem;font-style:normal}.distribution-rule-list-item.active{background:#14532d59;border-color:#22c55eb3}.distribution-rule-create{display:flex;flex-direction:column;gap:.4rem}.distribution-rule-create .domain-admin-search-input{margin-bottom:0}.distribution-rule-main{display:flex;flex-direction:column;gap:.6rem;min-height:0;overflow-y:auto;padding-right:.2rem}.distribution-progress-wrap{display:flex;flex-direction:column;gap:.35rem}.distribution-progress-wrap span{color:#cbd5e1;font-size:.78rem}.distribution-progress-track{background:#334155d9;border:1px solid #64748b73;border-radius:999px;height:10px;overflow:hidden;width:100%}.distribution-progress-fill{background:linear-gradient(90deg,#22c55e,#4ade80);height:100%;transition:width .2s ease}.distribution-progress-fill.scope{background:linear-gradient(90deg,#38bdf8,#22d3ee)}.distribution-progress-fill.over{background:linear-gradient(90deg,#ef4444,#fb7185)}.distribution-visual-metrics{grid-gap:.45rem;display:grid;gap:.45rem;grid-template-columns:repeat(3,minmax(0,1fr))}.distribution-metric-card{background:#0f172ac7;border:1px solid #64748b66;border-radius:8px;display:flex;flex-direction:column;gap:.18rem;padding:.45rem .5rem}.distribution-metric-card span{color:#a5b4fc;font-size:.72rem}.distribution-metric-card strong{color:#f8fafc;font-size:.9rem}.distribution-notes{display:flex;flex-direction:column;gap:.35rem}.domain-transition-overlay{align-items:center;display:flex;height:100vh;justify-content:center;left:0;pointer-events:none;position:fixed;top:0;width:100vw;z-index:99}.domain-transition-circle{background:linear-gradient(135deg,#a855f7,#6366f1);border-radius:50%;transition:all .8s cubic-bezier(.4,0,.2,1)}@media (max-width:768px){.domain-info-panel{left:20px;max-height:calc(100vh - 40px);width:calc(100% - 40px)}.domain-info-panel,.domain-right-dock-toggle{bottom:20px;right:20px;top:auto}.domain-return-top-btn{font-size:.76rem;right:20px;top:20px}.domain-right-dock.collapsed .domain-info-panel{transform:translateY(calc(100% + 20px))}.distribution-rule-modal{max-height:calc(100vh - 24px);width:calc(100vw - 24px)}.distribution-rule-modal-body{grid-template-columns:1fr}.distribution-modal-header-actions{flex-wrap:wrap;justify-content:flex-end;width:100%}.distribution-summary-grid-wide{grid-template-columns:repeat(2,minmax(0,1fr))}.distribution-visual-metrics{grid-template-columns:1fr}.distribution-publish-row{gap:.35rem;grid-template-columns:1fr}.distribution-participation-metrics{grid-template-columns:1fr}.intel-heist-hud{padding:.6rem .65rem .7rem;top:10px;width:calc(100vw - 20px)}.intel-heist-result-gates{grid-template-columns:1fr}.city-defense-building-label,.city-defense-intel-badge{font-size:10px}.domain-manager-avatar-item{width:46px}.domain-manager-avatar-item.master{width:56px}.domain-manager-avatar-img{height:46px;width:46px}.domain-manager-avatar-item.master .domain-manager-avatar-img{height:56px;width:56px}.manage-edge-shell{min-height:0}.manage-edge-tabs{flex-direction:row;margin-bottom:.5rem;position:static}.manage-edge-tab{border-radius:8px;border-right:1px solid #64748b8c;min-height:34px;padding:.4rem .55rem;text-orientation:mixed;width:auto;writing-mode:horizontal-tb}.manage-edge-panel{border-radius:10px;margin-left:0}}.association-modal{background:#1e293bf2;border:2px solid #a855f780;border-radius:12px;box-shadow:0 25px 50px -12px #00000080;max-height:80vh;max-width:600px;overflow-y:auto}.association-modal .modal-header{align-items:center;border-bottom:2px solid #a855f74d;display:flex;justify-content:space-between;padding:1.5rem}.association-modal .modal-header h2{color:#a855f7;font-size:1.5rem;font-weight:600;margin:0}.modal-close{background:none;border:none;border-radius:4px;color:#9ca3af;cursor:pointer;padding:.25rem;transition:all .3s ease}.modal-close:hover{background:#ef444433;color:#ef4444}.association-info{background:#a855f71a;border-left:4px solid #a855f7;border-radius:8px;margin-bottom:1.5rem;padding:1rem}.association-info .node-title{color:#e9d5ff;font-size:1.25rem;font-weight:600;margin-bottom:.5rem}.association-info .node-desc{color:#c4b5fd;font-size:.95rem;line-height:1.5}.association-section{margin-bottom:1.5rem}.association-section .section-title{align-items:center;color:#e9d5ff;display:flex;font-size:1.1rem;font-weight:600;gap:.5rem;margin-bottom:.75rem}.association-list{background:#1e293b80;border-radius:8px;padding:1rem}.association-list ul{list-style:none;margin:0;padding:0}.domain-item{align-items:center;background:#a855f71a;border-left:3px solid #0000;border-radius:6px;display:flex;gap:.75rem;margin-bottom:.5rem;padding:.75rem;transition:all .2s ease}.domain-item:last-child{margin-bottom:0}.domain-item:hover{background:#a855f733;transform:translateX(4px)}.domain-item.parent-domain{border-left-color:#10b981}.domain-item.child-domain{border-left-color:#fbbf24}.association-hint{color:#94a3b8;font-size:.85rem;line-height:1.5;margin-bottom:.75rem}.domain-badge{border-radius:12px;font-size:.75rem;font-weight:600;letter-spacing:.5px;padding:.25rem .75rem;text-transform:uppercase}.domain-badge.parent{background:#10b98133;border:1px solid #10b9814d;color:#10b981}.domain-badge.child{background:#fbbf2433;border:1px solid #fbbf244d;color:#fbbf24}.empty-message{color:#94a3b8;font-style:italic;padding:1rem;text-align:center}.node-info-modal{background:#1e293bf2;border:2px solid #a855f780;border-radius:12px;box-shadow:0 25px 50px -12px #00000080;max-height:85vh;max-width:700px;overflow-y:auto}.node-info-modal .modal-header{align-items:center;border-bottom:2px solid #a855f74d;display:flex;justify-content:space-between;padding:1.5rem}.node-info-modal .modal-header h2{color:#a855f7;font-size:1.5rem;font-weight:600;margin:0}.btn-close{background:none;border:none;border-radius:4px;color:#9ca3af;cursor:pointer;padding:.25rem;transition:all .3s ease}.btn-close:hover{background:#ef444433;color:#ef4444}.node-info-section{margin-bottom:1.5rem}.info-section-title{-webkit-text-fill-color:#0000;background:linear-gradient(135deg,#a855f7,#ec4899);-webkit-background-clip:text;background-clip:text;color:#e9d5ff;font-size:1.75rem;font-weight:700;margin-bottom:1rem;text-align:center}.info-section-desc{color:#c4b5fd;font-size:1.05rem;line-height:1.7;padding:0 1rem;text-align:center}.node-user-sections{display:flex;flex-direction:column;gap:1.25rem}.user-group-section{background:#0f172a8c;border:1px solid #a855f740;border-radius:10px;padding:1rem 1rem 1.1rem}.user-group-title{color:#e9d5ff;font-size:1.05rem;font-weight:600;margin:0 0 .85rem}.user-avatar-list{display:flex;flex-wrap:wrap;gap:.75rem}.creator-row{gap:1rem;justify-content:space-between}.creator-meta,.creator-row{align-items:center;display:flex}.creator-meta{color:#c4b5fd;font-size:.95rem;gap:.35rem}.creator-meta-label{color:#94a3b8}.creator-meta-value{color:#e9d5ff}.manager-avatar-list{align-items:center}.user-avatar-item{border:2px solid #a855f78c;border-radius:9999px;cursor:default;height:46px;overflow:visible;position:relative;width:46px}.user-avatar-item.is-master{border-color:#fbbf24d9;border-width:2px;height:54px;width:54px}.user-avatar-img{border-radius:9999px;display:block;height:100%;object-fit:cover;width:100%}.user-avatar-alliance-flag{border:2px solid #0f172af2;border-radius:9999px;box-shadow:0 0 0 1px #e2e8f073;height:14px;pointer-events:none;position:absolute;right:-3px;top:-3px;width:14px;z-index:1}.user-avatar-item.is-master .user-avatar-alliance-flag{height:16px;width:16px}.user-avatar-tooltip{background:#0f172af2;border:1px solid #a78bfacc;border-radius:6px;bottom:calc(100% + 8px);color:#fff;font-size:.78rem;left:50%;line-height:1;opacity:0;padding:.28rem .48rem;pointer-events:none;position:absolute;transform:translateX(-50%);transition:opacity .15s ease;white-space:nowrap;z-index:2}.user-avatar-item:hover .user-avatar-tooltip{opacity:1}.user-group-empty{color:#94a3b8;font-size:.95rem}.domain-master-apply-section{background:#1e3a8a33;border:1px solid #3b82f659;border-radius:10px;margin-top:1rem;padding:.95rem 1rem}.domain-master-apply-open-btn{justify-content:center;width:100%}.domain-master-apply-form{display:flex;flex-direction:column;gap:.6rem}.domain-master-apply-label{color:#dbeafe;font-size:.9rem;font-weight:600}.domain-master-apply-textarea{background:#0f172aad;border:1px solid #60a5fa73;border-radius:8px;color:#f8fafc;font-size:.88rem;line-height:1.4;min-height:88px;padding:.55rem .7rem;resize:vertical}.domain-master-apply-counter{color:#93c5fd;font-size:.78rem;text-align:right}.domain-master-apply-actions{display:flex;gap:.5rem;justify-content:flex-end}@media (max-width:680px){.creator-row{align-items:flex-start;flex-direction:column}}.modal-footer{border-top:1px solid #475569;display:flex;gap:.75rem;justify-content:flex-end;padding:1.5rem}.enter-domain-btn{align-items:center;background:linear-gradient(135deg,#a855f7,#6366f1);border:none;border-radius:8px;box-shadow:0 4px 15px #a855f74d;color:#fff;cursor:pointer;display:flex;font-weight:600;gap:.5rem;padding:.75rem 1.5rem;transition:all .3s ease}.enter-domain-btn:hover{background:linear-gradient(135deg,#b86cf7,#7c7fff);box-shadow:0 6px 20px #a855f766;transform:translateY(-2px)}.enter-domain-btn:active{transform:translateY(0)}.create-node-modal{background:linear-gradient(135deg,#131b2d,#17223a);border:1px solid #6366f159;border-radius:14px;box-shadow:0 16px 36px #0f172a8c;display:flex;flex-direction:column;max-height:92vh;max-width:96vw;position:relative;width:760px}.create-node-modal .modal-header{align-items:center;background:#1e293bb8;border-bottom:1px solid #6366f147;display:flex;justify-content:space-between;padding:1rem 1.25rem}.create-node-modal .modal-header h3{color:#e2e8f0;font-size:1.1rem;margin:0}.create-node-modal .modal-body{max-height:calc(92vh - 132px);overflow-y:auto;padding:1rem 1.25rem}.create-node-modal .modal-footer{background:#0f172a73;border-top:1px solid #6366f147;display:flex;gap:.75rem;justify-content:flex-end;padding:.9rem 1.25rem}.create-node-modal .form-group{margin-bottom:1rem}.create-node-modal .form-group label{color:#cbd5e1;display:block;font-size:.86rem;margin-bottom:.45rem}.create-node-modal .form-input,.create-node-modal .form-textarea{background:#0f172a9e;border:1px solid #6366f159;border-radius:8px;color:#f8fafc;font-size:.9rem;padding:.72rem .9rem;width:100%}.create-node-modal .form-input:focus,.create-node-modal .form-textarea:focus{border-color:#818cf8cc;box-shadow:0 0 0 3px #6366f133;outline:none}.create-node-modal .form-textarea{min-height:80px;resize:vertical}.create-node-modal .form-input.read-only{background:#1e293bcc;color:#cbd5e1}.create-node-modal .error-text{color:#fca5a5;display:block;font-size:.8rem;margin-top:.35rem}.inline-field-error{margin-top:.2rem}.associations-section{border-top:1px solid #6366f138;margin-top:1.2rem;padding-top:1rem}.associations-header{align-items:center;display:flex;gap:.75rem;justify-content:space-between;margin-bottom:.9rem}.associations-header h4{color:#dbeafe;font-size:.95rem;margin:0}.sense-list-scroll{gap:1rem}.sense-card,.sense-list-scroll{display:flex;flex-direction:column}.sense-card{background:#0f172a85;border:1px solid #6366f152;border-radius:10px;gap:.62rem;padding:.9rem}.sense-card-header{align-items:center;display:flex;gap:.7rem}.sense-card-header .node-name{color:#e2e8f0;font-size:.9rem}.sense-relation-count{color:#93c5fd;font-size:.78rem;margin-right:auto}.sense-relations-editor{display:flex;flex-direction:column;gap:.65rem;margin-top:.2rem}.relation-type-row{align-items:center;display:flex;flex-wrap:wrap;gap:.6rem;justify-content:space-between}.relation-type-switcher{display:flex;gap:.5rem}.relation-type-btn{background:#1e293bb8;border:1px solid #94a3b866;border-radius:7px;color:#cbd5e1;cursor:pointer;font-size:.78rem;padding:.4rem .62rem}.relation-type-btn.active{background:#4f46e557;border-color:#818cf8e6;color:#e0e7ff}.relation-help-btn{background:#0f172a94;border:1px solid #94a3b873;border-radius:7px;color:#cbd5e1;cursor:pointer;font-size:.76rem;padding:.38rem .62rem;transition:border-color .2s ease,background .2s ease,color .2s ease}.relation-help-btn:hover{background:#4f46e538;border-color:#818cf8d9;color:#e2e8f0}.relation-hint-text{color:#94a3b8;font-size:.78rem}.relation-visual{background:#1e293b7a;border:1px dashed #818cf859;border-radius:9px;padding:.7rem}.relation-visual-single{align-items:center;display:flex;flex-direction:column;gap:.45rem}.relation-visual-single.compact{padding-bottom:.5rem;padding-top:.5rem}.relation-node{background:#0f172ac2;border:1px solid #94a3b866;border-radius:8px;font-size:.76rem;line-height:1.35;padding:.42rem .55rem;text-align:center;width:100%}.relation-node.current{border-color:#38bdf8a6;color:#e0f2fe}.relation-node.target{border-color:#facc158c;color:#fef3c7}.relation-node.clickable{-webkit-appearance:none;appearance:none;cursor:pointer}.relation-node.clickable.active{box-shadow:0 0 0 2px #6366f166}.relation-arrow{color:#93c5fd;font-size:.74rem}.insert-dumbbell-wrap{display:flex;flex-direction:column;gap:.55rem}.insert-side-selectors{display:flex;gap:.45rem}.insert-side-btn{background:#1e293bc7;border:1px solid #94a3b86b;border-radius:6px;color:#cbd5e1;cursor:pointer;font-size:.74rem;padding:.32rem .56rem}.insert-side-btn.active{border-color:#6366f1f2;color:#e0e7ff}.relation-visual-insert{grid-gap:.45rem;align-items:center;display:grid;gap:.45rem;grid-template-columns:minmax(0,1fr) auto minmax(0,1fr) auto minmax(0,1fr)}.relation-visual-insert.compact .relation-node{font-size:.72rem}.insert-segment-btn{background:#1e293bbf;border:1px solid #818cf894;border-radius:999px;color:#dbeafe;cursor:pointer;font-size:.72rem;padding:.18rem .56rem;transition:border-color .2s ease,background .2s ease,opacity .2s ease;white-space:nowrap}.insert-segment-btn:hover{background:#4f46e547;border-color:#818cf8eb}.insert-segment-btn.locked{border-color:#94a3b873;cursor:not-allowed;opacity:.8}.insert-segment-static{color:#bfdbfe;font-size:.72rem;white-space:nowrap}.insert-direction-state{color:#93c5fd;font-size:.74rem}.insert-direction-state.locked{color:#fcd34d}.search-input-group{display:flex;gap:.5rem}.search-input-group .form-input{flex:1 1}.relation-inner-scroll{border-radius:8px;max-height:180px;overflow-y:auto}.search-results{background:#0f172a9e;border:1px solid #6366f13d;display:flex;flex-direction:column;gap:.38rem;padding:.45rem}.search-result-item{background:#1e293bb3;border:1px solid #94a3b833;border-radius:7px;color:inherit;padding:.58rem .65rem;text-align:left;width:100%}.search-result-item.selectable{cursor:pointer}.search-result-item.selectable:hover{border-color:#818cf88c}.search-result-item.selected{background:#4f46e538;border-color:#818cf8e6}.search-result-item .node-info{display:flex;flex-direction:column;gap:.2rem}.node-title-row{align-items:center;display:flex;gap:.4rem}.search-result-item strong{color:#e2e8f0;font-size:.82rem}.relation-prefix{background:#1e293bb8;border:1px solid #94a3b861;border-radius:999px;color:#cbd5e1;font-size:.66rem;line-height:1;padding:.14rem .36rem}.relation-prefix.relation-{border-color:#22c55e85;color:#bbf7d0}.relation-prefix.relation-{border-color:#facc1585;color:#fef3c7}.relation-prefix.relation-none,.relation-prefix.relation-{border-color:#94a3b866;color:#cbd5e1}.search-result-item .node-description{color:#94a3b8;font-size:.74rem;line-height:1.3}.add-relation-btn{width:-webkit-fit-content;width:fit-content}.target-selector-overlay{align-items:center;background:#0206179e;border-radius:14px;display:flex;inset:0;justify-content:center;position:absolute;z-index:20}.target-selector-panel{background:linear-gradient(140deg,#0f172af7,#1e293bf7);border:1px solid #818cf880;border-radius:12px;box-shadow:0 14px 34px #02061799;display:flex;flex-direction:column;max-height:calc(100% - 2rem);width:min(560px,calc(100% - 1.5rem))}.relation-help-panel{width:min(640px,calc(100% - 1.5rem))}.target-selector-header{align-items:center;border-bottom:1px solid #818cf84d;display:flex;gap:.75rem;justify-content:space-between;padding:.72rem .9rem}.target-selector-header strong{color:#e2e8f0;font-size:.9rem}.target-selector-search-row{align-items:center;display:flex;gap:.5rem;padding:.7rem .9rem}.target-selector-search-icon{color:#93c5fd;flex-shrink:0}.target-selector-search-row .form-input{flex:1 1}.target-selector-command-hint{color:#94a3b8;font-size:.75rem;padding:0 .9rem .2rem}.target-selector-command-hint code{background:#1e293bcc;border:1px solid #94a3b859;border-radius:4px;color:#dbeafe;padding:0 .22rem}.target-selector-results{background:#0f172aa6;border:1px solid #818cf83d;display:flex;flex-direction:column;gap:.42rem;margin:0 .9rem;padding:.48rem}.target-selector-empty{color:#94a3b8;font-size:.8rem;padding:1rem .4rem;text-align:center}.relation-help-content{background:#02061766;border:1px solid #818cf840;color:#cbd5e1;display:flex;flex-direction:column;font-size:.82rem;gap:.45rem;line-height:1.55;margin:.65rem .9rem 0;padding:.7rem .85rem}.relation-help-content p{margin:0}.relation-help-content strong{color:#e2e8f0}.target-selector-footer{border-top:1px solid #818cf83d;display:flex;gap:.6rem;justify-content:flex-end;margin-top:.7rem;padding:.75rem .9rem}.relation-inner-scroll::-webkit-scrollbar{height:8px;width:8px}.relation-inner-scroll::-webkit-scrollbar-track{background:#0f172a8f!important}.relation-inner-scroll::-webkit-scrollbar-thumb{background:#6366f185!important}.relation-inner-scroll::-webkit-scrollbar-thumb:hover{background:#818cf8cc!important}.sense-relations-list{background:#02061761;border:1px solid #6366f133;display:flex;flex-direction:column;gap:.5rem;padding:.5rem}.relation-card{background:#1e293b9e;border:1px solid #94a3b842;border-radius:8px;display:flex;flex-direction:column;gap:.42rem;padding:.56rem}.relation-card-top{align-items:center;display:flex}.relation-type-pill{border:1px solid #818cf885;border-radius:999px;color:#dbeafe;font-size:.72rem;margin-right:auto;padding:.18rem .45rem}.empty-relation-hint{color:#94a3b8;font-size:.78rem;padding:.65rem .4rem;text-align:center}.icon-small{height:16px;width:16px}@media (max-width:760px){.create-node-modal{width:98vw}.create-node-modal .modal-body{padding:.85rem}.relation-visual-insert{grid-template-columns:minmax(0,1fr);justify-items:stretch}}
/*# sourceMappingURL=main.35ee8377.css.map*/